---
title: "ğŸ’» CSC3200 LEC1-2 C++å…¥é—¨"
date: 2025-09-01T18:29:34+08:00
draft: false
summary: "CUHKSZ å¤§äºŒè¯¾ç¨‹ CSC3200 å…³äº C++ åŸºç¡€è¯­æ³•å’Œ OOP çš„ä»‹ç»"
categories: 
- SDS
tags: 
- CSC3200
featured_image: "/images/32001.jpg"
---



# CSC3200 LEC 1-2  CPP å…¥é—¨

<br>

## æ€ä¹ˆè¿è¡Œï¼Ÿ

<br>

MacOS è‡ªå¸¦ clang++ï¼Œä½ å¯ä»¥åœ¨ç»ˆç«¯æŸ¥è¯¢ï¼š
`clang++ --version`
æ²¡æœ‰å°± `brew install clang++`  æˆ–è€… ` brew install g++`
è¿è¡Œä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼šhello.cpp

```shell
clang++ -std=c++17 -Wall -O2 #filename#.cpp -o #compilename#
clang++ #filename#.cpp -o #compilename#  // ä¹Ÿå¯ä»¥è¿™ä¹ˆç¼–è¯‘ï¼Œæ¯”è¾ƒå¿«ï¼Œä½†é‡è¦ä»£ç ä¸å»ºè®®
./#compilename#  // è¿è¡Œ
```

Win å¯ä»¥ç”¨ Dev-C++ï¼Œä½†å¦‚æœè¦ç”¨ VScode ä¹‹ç±»çš„å†…ç½®ç»ˆç«¯è¿è¡Œï¼Œå¯èƒ½éœ€è¦ä¸‹è½½ MSYS2 / MinGW ä¹‹ç±»çš„ç¼–è¯‘å™¨ï¼Œå…·ä½“ä¸å¤ªæ¸…æ¥š

<br>

### å¤šé¡¹ç›®è¿è¡Œ
src/ math.h, math.cpp, main.cpp

```shell
clang++ -std=c++17 -Wall -O2 src/main.cpp src/math.cpp -Iinclude -o app
./app
```

---

<br>

<br>

## æ•°æ®ç±»å‹ã€è®¡ç®—ç¬¦ä¸å‘½åè§„åˆ™

<br>

### æ•°æ®ç±»å‹ç±»å‹

```cpp
using namespace std;
int age = 20;      // æ•´æ•°
double pi = 3.14;  // æµ®ç‚¹æ•°
char grade = 'A';  // å­—ç¬¦
bool flag = true;  // å¸ƒå°”å€¼

int constant;  // å¯ä»¥
const int constant;  // ä¸å¯ä»¥ï¼Œå¸¸å€¼å¿…é¡»åœ¨å£°æ˜æ—¶å¤åˆ¶ï¼Œå› ä¸ºä¸å¯æ›´æ”¹
```

æ³¨æ„ï¼ŒC ä¸­æœ‰å¦ä¸€ç§å£°æ˜å¸¸å€¼çš„è¯­å¥ï¼š`#define constant 42;`
ä½†æ˜¯å®ƒåªå¯¹å•æ–‡ä»¶æœ‰æ•ˆï¼Œä¸åŒæ–‡ä»¶å¯ä»¥æœ‰ä¸åŒå€¼ï¼Œå®¹æ˜“å¯¼è‡´æ•…éšœã€‚

<br>

### è®¡ç®—ç¬¦

```cpp
int m = double(4) % 5;  // 4
double n = int(4.2) / 2;  // 2.0
double p = 4 / 5;  // 0.0
// æ‰€ä»¥è¦è·å¾—å°æ•°çš„ç²¾ç¡®å€¼è‡³å°‘åœ¨ç®—å¼ä¸­è¦æœ‰ä¸€ä¸ªâ€œdouble/float"ç±»

#include <iomanip>
cout << setprecision(3) << 3.141592 << "/n";  // ä¿ç•™ä¸‰ä½å°æ•°
```

è‡ªå¢ï¼š(åŒæ ·é€‚ç”¨äºå‡æ³•)

```cpp
int a = 0;
int b = 0;
int x = a++;  // èµ‹å€¼ç„¶åè‡ªå¢ï¼ša=1, x=0
int y = ++b;  // è‡ªå¢ç„¶åèµ‹å€¼ï¼šb=1, y=1
```

#### å¸ƒå°”è¿ç®—ç¬¦

```cpp
-1 && double(2.0) == bool(true)  // é 0 æ•°çš†ä¸ºçœŸï¼ŒçœŸä¸”çœŸä¸ºçœŸ
"0" || NULL != false  // éç©ºå­—ç¬¦(ä¸²)éƒ½ä¸ºçœŸï¼ŒçœŸä¸”å‡ä¸ºçœŸ
```

ä¸‰å…ƒè¿ç®—ç¬¦ï¼š

```cpp
cout << ((a % 2 == 0) ? "Even" : "Odd") << endl;  
// ? å‰çš„æ¡ä»¶çœŸå°±è¾“å‡º: å‰ä¸€é¡¹ï¼Œåä¹‹å°±è¾“å‡ºå†’å·åä¸€é¡¹
```

<br>

string ç±»å‹éœ€è¦å•ç‹¬å¼•ç”¨ï¼Œå¦åˆ™æœ‰å¯èƒ½å¤±è´¥
(å› ä¸º \<iostream> é—´æ¥è°ƒç”¨äº† \<string>ï¼Œæœ‰ä¸€äº›æƒ…å†µä¸‹æœ‰æ¦‚ç‡å¯ä»¥ç¼–è¯‘)

```cpp
using namespace std;
#include <string>
string name = "csc3200"
```

å¼•ç”¨ç©ºé—´(åº“)ï¼š`#include <â€¦>` **ä¸èƒ½å†™åˆ†å·**
å¼•ç”¨æœ¬åœ° .h æ–‡ä»¶ï¼š`#include "â€¦.h"` åŒä¸Š

.cpp æ–‡ä»¶æ— æ³•è¢«è°ƒç”¨

<br>

### å‘½åè§„åˆ™
- åªèƒ½ç”¨å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚
- åŒºåˆ†å¤§å°å†™ï¼šAge å’Œ age æ˜¯ä¸åŒå˜é‡ã€‚
- ä¸èƒ½ä½¿ç”¨å…³é”®å­—(å¦‚ intã€ifã€class ç­‰)ã€‚æ‰€æœ‰ cpp ä¿ç•™è¯éƒ½åœ¨ `std` namespace ä¸­ã€‚
- å¸¸è§é£æ ¼ï¼šcamelCaseï¼ˆå°é©¼å³°ï¼‰ï¼Œæˆ– snake_caseã€‚

æ‰€æœ‰å…³é”®è¯å…¨éƒ¨å­˜å‚¨åœ¨ä¸€ä¸ªå«åš std çš„ namespace ä¸­ï¼Œè°ƒç”¨æ—¶åœ¨ä»£ç é¡¶éƒ¨å£°æ˜ï¼š
```cpp
using namespace std;   //åªå¼•ç”¨ä¸€ä¸ªï¼šusing std::string//
#include <string>
string name = "csc3200";
```
å¦åˆ™æ¯æ¬¡ä½¿ç”¨éƒ½è¦å†™ï¼š
```cpp
 std::string name = "csc3200";
```
---

<br>

<br>

## Standard I/O

<br>

### cout
- short for "character output"ï¼Œä»£è¡¨æ ‡å‡†è¾“å‡ºæµ(standard output stream)ï¼Œé€šå¸¸å°±æ˜¯å±å¹•
- æ¥è‡ªå¤´æ–‡ä»¶ \#include \<iostream>
ä¾‹ï¼š
```cpp
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, world!";  // å‘å±å¹•è¾“å‡º
    return 0;
}
```

<br>

### <<  (æµè¾“å‡ºè¿ç®—ç¬¦)

- stream insertion operator
- ä½œç”¨æ˜¯æŠŠå³è¾¹çš„å†…å®¹â€œæ’å…¥â€åˆ°å·¦è¾¹çš„è¾“å‡ºæµä¸­ã€‚
- æ— è®ºä»€ä¹ˆæƒ…å†µï¼Œ`<<` éƒ½ä¸ä¼šè‡ªåŠ¨åœ¨å¤šä¸ªè¾“å‡ºé¡¹ä¸­é—´è‡ªåŠ¨åŠ ç©ºæ ¼ã€‚
ä¾‹1ï¼š
```cpp
cout << "ç­”æ¡ˆæ˜¯: " << 42;
```
- string "ç­”æ¡ˆæ˜¯: " è¢«æ’å…¥åˆ° cout é‡Œ â†’ æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚
- ç„¶å 42 ä¹Ÿè¢«æ’å…¥åˆ°åŒä¸€ä¸ªæµä¸­ â†’ ç´§æ¥ç€æ˜¾ç¤ºã€‚
- outputï¼š
```shell
ç­”æ¡ˆæ˜¯: 42
```

ä¾‹2ï¼š
```cpp
#include <string>
#include <iostream>
string s = "Hello";
s += " World";              // æ‹¼æ¥
cout << s << " é•¿åº¦: " << s.length() << endl;
```
- outputï¼š
```shell
Hello World é•¿åº¦: 11
```

<br>

### endl

- short for "end line"
- ä½œç”¨æ˜¯æ¢è¡Œï¼ˆç›¸å½“äº "\n" **è½¬ä¹‰å­—ç¬¦**ï¼‰ï¼ŒåŒæ—¶åˆ·æ–°è¾“å‡ºç¼“å†²åŒº
- æ¥è‡ªå¤´æ–‡ä»¶ \#include \<iostream>
ä¾‹ï¼š
```cpp
#include <iostream>
cout << "1" << endl << "2"
cout << "3\n" << "4";
```
- outputï¼š
```shell
1
2
3
4
```

åŒºåˆ«ï¼š
- `\n` åªæ˜¯æ¢è¡Œè½¬ä¹‰ç¬¦
- `endl` = æ¢è¡Œ + å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒº(ç«‹å³æ˜¾ç¤º)
- å½“é‡åˆ° `\n` å¹¶ä¸”è¾“å‡ºç›®æ ‡æ˜¯ **ç»ˆç«¯** æ—¶ï¼Œé€šå¸¸èƒ½çœ‹åˆ°æ¢è¡Œã€‚ä½†å¦‚æœè¾“å‡ºç›®æ ‡æ˜¯ **æ–‡ä»¶** æˆ– **ç®¡é“**ï¼Œåˆ™ \n ä¸ä¼šè§¦å‘åˆ·æ–°ï¼Œå¯èƒ½è¦ç­‰ç¼“å†²åŒºæ»¡æ‰å†™å…¥

<br>

### >>  (æµæå–è¿ç®—ç¬¦)

ä¸€èˆ¬æ˜¯é…åˆ `cin`(character input)ï¼Œä»é”®ç›˜è¯»å–ä¿¡æ¯ï¼š
```cpp
#include <iostream>
#include <string>
using namespace std;

int main() {
    int age;
    string name;

    cout << "è¯·è¾“å…¥å§“åå’Œå¹´é¾„: ";
    cin >> name >> age;   // å˜é‡ä¹‹é—´ç©ºæ ¼æˆ–æ¢è¡Œçš†å¯
    cout << "ç»“æœ: " << name << " " << age << endl;
    return 0;
}
```

å¦‚æœä¸æƒ³è¢«ç©ºæ ¼éš”å¼€ï¼Œç›´æ¥è¯»æ•´è¡Œï¼š
```cpp
string name;
getline(cin, name);  // è¯»åˆ°å›è½¦ä¸ºæ­¢
```
ä½†æ˜¯ `getline()` å‡½æ•°å‰å¦‚æœç´§è·Ÿç€å¦ä¸€ä¸ª cin æˆ– getlineï¼Œä¼šå¯¼è‡´å›è½¦è¢«ä½œä¸ºå˜é‡è¯»è¿›å»ï¼š
```cpp
cin >> age;  // è¾“å…¥ 18â†µ
cin.ignore(numeric_limits<streamsize>::max(), '\n');
getline(cin, name);  // çœç•¥ä¸Šä¸€è¡Œçš„è¯ï¼Œè¿™é‡Œç›´æ¥è¯»åˆ°ç©ºè¡Œï¼
```
---

<br>

<br>

## å‡½æ•°å®šä¹‰ä¸è°ƒç”¨

<br>

- `main()` æ˜¯å…¥å£æ–¹æ³•ï¼Œè‡ªåŠ¨è¿è¡Œï¼Œä¸è¦å»è°ƒç”¨å®ƒï¼Œå¯ä»¥æœ‰å‚æ•°ï¼Œè¿”å›å€¼**ä¸€å®šæ˜¯æ•´æ•°å‹**çš„ï¼Œåªæœ‰è¿”å› **0** æ‰æ˜¯æ­£å¸¸é€€å‡ºçŠ¶æ€ç ï¼ˆä¹Ÿå¯ä»¥ä¸å†™ï¼‰ã€‚

ä¾‹ï¼š
```cpp
#include <iostream>
using namespace std;

// å‡½æ•°å®šä¹‰
int add(int a, int b) {
    return a + b;
}

int main() {
    cout << add(3, 5) << endl;
    return 0;   // cpp-11 ä»¥åçš„ç‰ˆæœ¬ä¸­å¯ä»¥çœç•¥
}
```
- æ ¼å¼ï¼š
```md
è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) {
    // å‡½æ•°ä½“
    return å€¼;
}
```
---

<br>

<br>

## æ¡ä»¶ç»“æ„

```cpp
int x = 10;
if (x > 0) {
    cout << "positive" << endl;
} else if (x == 0) {
    cout << "zero" << endl;
} else {
    cout << "negative" << endl;
}
```

switch:

```cpp
switch (#å˜é‡æˆ–è¡¨è¾¾å¼#) {
    case1:
        #æ¡ä»¶#;
        break;
    default:
        #æ¡ä»¶#;
        break;
}
```



---

<br>

<br>

## å¾ªç¯ç»“æ„

<br>

### for å¾ªç¯
```cpp
for (int i = 0; i < 5; i++) {
    cout << i << " ";
}
```
è¾“å‡ºï¼š0 1 2 3 4

<br>

### while å¾ªç¯
```cpp
int i = 0;
while (i < 5) {
    cout << i << " ";
    i++;
}
```

<br>

### do-while å¾ªç¯

```cpp
int i = 0;
do {
    cout << i << " ";
    i++;
} while (i < 5);
```
ï¼ˆè‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼‰

---

<br>

<br>

## åœ°å€ï¼ŒæŒ‡é’ˆï¼Œå¼•ç”¨å’Œä¼ é€’

<br>

`&a`ï¼šå–ç”¨å˜é‡ a çš„åœ°å€
`int& r = a`ï¼šå¼•ç”¨ a (ç»™ a å¦ä¸€ä¸ªåå­— r)
`int* p = &a`ï¼šå£°æ˜ p å±äº a çš„æŒ‡é’ˆ
`*p`ï¼šå–ç”¨æŒ‡é’ˆ p å¯¹åº”å˜é‡çš„å€¼

```cpp
int a = 5;
int* p = &a;
int& r = a;  // r å¼•ç”¨ a
cout << *p;  // è¾“å‡º 12 ä½ 16 è¿›åˆ¶æ•´æ•°
*p = 20;  //æŒ‡é’ˆä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹å¯¹åº”å˜é‡çš„å€¼
p = &r;  //æŒ‡é’ˆå¯ä»¥æ”¹å˜å¯¹è±¡ï¼Œä½†æ­¤æ—¶ä½ç½®ä¸å˜ï¼Œå› ä¸º r å¼•ç”¨ a
cout << (&r == &a) << "\n";  // return 1 ï¼ˆC++ é‡Œè¾“å‡º true ä¼šå˜æˆ 1ï¼‰
```

<br>

`const int& r = a`ï¼šå¸¸é‡å¼•ç”¨ (ä¸å¯ä»¥é€šè¿‡ r ä¿®æ”¹ a å€¼) const ref.
`int* const p = &a`ï¼šæŒ‡é’ˆå¸¸é‡ (å¯ä»¥ä¿®æ”¹ a å€¼ï¼Œä¸èƒ½æ”¹æŒ‡å‘åˆ«çš„å˜é‡) const pointer
`const int* p = &a`ï¼šå¸¸é‡æŒ‡é’ˆ (ä¸å¯ä»¥ä¿®æ”¹ a å€¼ï¼Œå¯ä»¥æ”¹æŒ‡å‘åˆ«çš„å˜é‡) pointer of const
`const int* const p = &x`ï¼šå¸¸é‡æŒ‡é’ˆå¸¸é‡â€¦â€¦  const pointer of const

<br>

- æŒ‡é’ˆä¼ å‚ï¼šï¼ˆä¿®æ”¹ä½†ä¸å¤åˆ¶ aï¼Œ ä¼  a çš„æŒ‡é’ˆ p ç»™å‡½æ•°ï¼Œå¯å…¼å®¹ Cï¼‰
```cpp
 void setZero(int* p) { *p = 0; }
 setZero(&a); // a å˜æˆ 0
```
- å¼•ç”¨ä¼ å‚ï¼š(ä¿®æ”¹å•ä¸å¤åˆ¶ aï¼Œä¼  a çš„åˆ«å b ç»™å‡½æ•°ï¼Œä¸å¯å…¼å®¹ C)
```cpp
void SetZero(int& b) { b = 0; } 
SetZero(a);
```
- æŒ‰å€¼ä¼ å‚ï¼šï¼ˆä¸ä¿®æ”¹ a çš„å€¼ï¼Œåªä¿®æ”¹ä¼ ç»™å‡½æ•°çš„å¤åˆ¶ä½“ b çš„å€¼ï¼‰**æµ…æ‹·è´**
```cpp
void setZero(int b) { b = 0; }
setZero(a);
```
- å¸¸é‡å¼•ç”¨ä¼ å‚ï¼š
```cpp
void SetZero(const int& b) { /* b = 0 åœ¨è¿™é‡Œæ˜¯æ— æ•ˆçš„ */ } 
SetZero(a); // ä¼šæŠ¥é”™
```
---

<br>

<br>

## ç±»ä¸å¯¹è±¡(å®ä¾‹)â€”â€”OOP

<br>

- å¦‚æœ int æ˜¯ç±»ï¼Œ42 å°±æ˜¯ä¸€ä¸ªå®ä¾‹
- å¯¹è±¡éƒ½æ˜¯æŒ‡æŸç§ç±»çš„å®ä¾‹
- ç±»ä¸­çš„å‡½æ•°â€”â€”æˆå‘˜å‡½æ•°ï¼Œå°±æ˜¯â€œæ–¹æ³•â€
- å®ä¾‹åŒ–å°±æ˜¯èµ‹äºˆæˆå‘˜å˜é‡ä»¥å€¼
- ç±»çš„æˆå‘˜å˜é‡ä¸€èˆ¬æ˜¯ private çš„
- åœ¨æ¯ä¸ªç±»ä¸­ï¼Œconstructor å¯ä»¥æœ‰å¤šä¸ªï¼Œdestructor åªæœ‰ä¸€ä¸ª
- åœ¨ä¸€ä¸ªå®Œæ•´çš„ç±»ç»“æŸåï¼Œ**æœ€åä¸€ä¸ªå¤§æ‹¬å·åè¦åŠ åˆ†å·**
- rule of three

ç±»çš„åŸºç¡€æ¨¡å‹ï¼š
```cpp
class ç±» {
public:
    è¿”å›ç±»å‹ æˆå‘˜å‡½æ•°(å‡½æ•°å‚æ•°) {
        æˆå‘˜å˜é‡ = å‡½æ•°å‚æ•°ï¼›
    }
private:
    æ•°æ®ç±»å‹ æˆå‘˜å˜é‡ï¼›
}
```

å¯¹è±¡ obj è¦è°ƒç”¨ç±» C ä¸­çš„å®šä¹‰çš„æˆå‘˜å‡½æ•° func(int, v)ï¼š
```cpp
C obj;
obj.func(3);
```
å¯¹è±¡è¦è°ƒç”¨ç±»çš„æˆå‘˜å˜é‡ variab:
```cpp
C obj;
obj.variab = 3;
```

<br>

å¯¹è±¡çš„å£°æ˜ï¼š
```cpp
IntCell m1;            // OKï¼šé»˜è®¤æ„é€ 
IntCell m2(12);        // OKï¼šæœ‰å‚æ„é€ 
IntCell* m3;           // OKï¼šæŒ‡é’ˆå£°æ˜
Intcell m4();          // è¿™å…¶å®æ˜¯å‡½æ•°å£°æ˜ï¼Œä¸æ˜¯å¯¹è±¡ï¼

m3->function();  // æŒ‡é’ˆè®¿é—®æˆå‘˜è¦ç”¨ç®­å¤´
m1.function();
```

<br>

### æ¥å£-å®ç° åˆ†ç¦»

IntCell.hï¼šï¼ˆå¤´æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç±»å£°æ˜ã€æ„é€ æ–¹æ³•ï¼‰

- å¤´æ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨ `\#pragma once` é˜²é‡åŒ…å«ã€‚

```cpp
#ifndef INTCELL_H     // é˜²æ­¢é‡å¤åŒ…å«
#define INTCELL_H

class IntCell {
public:
    IntCell(int initialValue = 0); // æ„é€ å‡½æ•°å£°æ˜
    int read() const;              // è¯»å–
    void write(int x);             // å†™å…¥
private:
    int storedValue;               // ç§æœ‰æˆå‘˜
};
#endif
```

IntCell.cppï¼š
```cpp
#include "IntCell.h"

IntCell::IntCell(int initialValue)   // ç±»::æˆå‘˜å‡½æ•°(å˜é‡)
    : storedValue(initialValue) { }

int IntCell::read() const {
    return storedValue;
}

void IntCell::write(int x) {
    storedValue = x;
}
```

<br>

### this æŒ‡é’ˆ

- æˆå‘˜å‡½æ•°å’Œæ™®é€šè£¸å‡½æ•°çš„åŒºåˆ«å°±æ˜¯ï¼šå®ƒæœ‰ä¸€ä¸ªéšå¼çš„ this å‚æ•°(æŒ‡é’ˆ)ã€‚
- åœ¨ç±»è¢«å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡(å®ä¾‹)è°ƒç”¨ç±»çš„æˆå‘˜å‡½æ•°çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠŠå¯¹è±¡çš„åœ°å€ä¼ è¿›ç±»ä¸­ã€‚this æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ**æŒ‡å‘å½“å‰è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„å¯¹è±¡çš„ä½ç½®**ã€‚
- `this->value = v`ï¼šæŠŠè°ƒç”¨å‡½æ•°çš„å¯¹è±¡é‡Œçš„ value æˆå‘˜å˜é‡çš„å€¼æ”¹æˆ vã€‚
- -> æ˜¯â€œé€šè¿‡æŒ‡é’ˆè®¿é—®æˆå‘˜â€çš„è¿ç®—ç¬¦
- `this->value` å°±**ç­‰ä»·**äº `(*this).value`ã€‚å¯ä»¥ç†è§£ä¸º â€œthis æŒ‡å‘çš„ä½ç½®å¯¹åº”çš„å¯¹è±¡çš„ value å˜é‡çš„å€¼â€çš„æ„æ€
- value æœ¬æ¥å°±æ˜¯æˆå‘˜å˜é‡ï¼Œä½ å¯ä»¥ç›´æ¥å†™ value = vã€‚ä½†å¦‚æœ**å‡½æ•°å‚æ•°å’Œæˆå‘˜å˜é‡åŒå**ï¼š
```cpp
class Tick {
    int value;
public:
    void setValue(int value) {
        this->value = value;  // å·¦è¾¹æ˜¯æˆå‘˜å˜é‡ï¼Œå³è¾¹æ˜¯å‚æ•°
    }
};
Tick b1, b2;  // å°† Tick å®ä¾‹åŒ–ï¼Œäº§ç”Ÿå¯¹è±¡
b1.setValue = 10;
b2.setValue = 20;
cout << b1.value << " " << b2.value; // è¾“å‡º 10 20
```

<br>

### Rule of Three

Copy Constructor(æ‹·è´æ„é€ å‡½æ•°)ã€Copy Assignment Operator(æ‹·è´èµ‹å€¼è¿ç®—ç¬¦)ã€Destructor(ææ„å‡½æ•°)å¿…é¡»åŒæ—¶åœ¨ä¸€ä¸ªè‡ªå®šä¹‰ç±»é‡Œè¢«å®šä¹‰ã€‚

#### Copy Constructor
- ç”¨ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªå…¨æ–°å¯¹è±¡æ—¶è°ƒç”¨çš„æ–¹æ³•
```cpp
class MyArray {
    int* data;
    int size;
public:
    MyArray(int s) : size(s) {data = new int[size];}

    // âœ… æ‹·è´æ„é€ å‡½æ•°
    MyArray(const MyArray& other) {
        size = other.size;
        data = new int[size];
        for (int i = 0; i < size; i++) data[i] = other.data[i];
    }
};
MyArray a1(5);
MyArray a2 = a1; // è°ƒç”¨è¿è¡Œ
```
ä¸Šè¿° Copy Constructor æ·±æ‹·è´äº† MyArray çš„ä¸€ä¸ªå®ä¾‹ otherï¼Œç¡®ä¿æ–°æ•°ç»„çš„å­˜å‚¨ä½ç½®ä¸ other ä¸åŒï¼Œé˜²æ­¢ Destructor åœ¨æ¸…ç†å†…å­˜æ—¶å…¨éƒ¨åˆ é™¤ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚

#### Copy Assignment Operator
- å¯¹å·²å­˜åœ¨çš„å¯¹è±¡èµ‹å€¼æ—¶è°ƒç”¨
```cpp
class MyArray {
    int* data;
    int size;
public:
    MyArray(int s) : size(s) { data = new int[size]; }

    // âœ… æ‹·è´èµ‹å€¼è¿ç®—ç¬¦
    MyArray& operator=(const MyArray& other) {
        if (this != &other) {            // é˜²æ­¢è‡ªèµ‹å€¼
            delete[] data;               // å…ˆé‡Šæ”¾æ—§èµ„æº
            size = other.size;
            data = new int[size];
            for (int i = 0; i < size; i++) data[i] = other.data[i];
        }
        return *this;  // å…è®¸é“¾å¼èµ‹å€¼ a = b = c;
    }
};
MyArray a1(5);
MyArray a2(10);
a2 = a1; // è°ƒç”¨è¿è¡Œ
```
ä¿è¯èµ‹å€¼æ—¶å®‰å…¨é‡Šæ”¾æ—§èµ„æºï¼Œå†åˆ†é…å¹¶å¤åˆ¶æ–°èµ„æºã€‚

#### Destructor
- éœ€è¦é‡Šæ”¾ä¸å¿…è¦å†…å­˜æ—¶ä½¿ç”¨
```cpp
class MyArray {
    int* data;
    int size;
public:
    MyArray(int s) : size(s) { data = new int[size]; }

    // âœ… ææ„å‡½æ•°
    ~MyArray() {
        delete[] data;   // é‡Šæ”¾å†…å­˜
    }
};
// å¯¹è±¡é‡åˆ°è¿™ä¸€æ®µè‡ªåŠ¨é”€æ¯
```
