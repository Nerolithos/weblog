<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>åœ¨ cloudflare éƒ¨ç½² Hugo æ„æ¶åšå®¢çš„ manual | Lithos&#39; Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
    <meta name="generator" content="Hugo 0.134.1">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="http://localhost:1313/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
  

    
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/weblog_deploy/">
    <meta property="og:url" content="http://localhost:1313/posts/weblog_deploy/">
  <meta property="og:site_name" content="Lithos&#39; Blog">
  <meta property="og:title" content="åœ¨ cloudflare éƒ¨ç½² Hugo æ„æ¶åšå®¢çš„ manual">
  <meta property="og:description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-10T23:34:08+08:00">
    <meta property="article:modified_time" content="2024-09-10T23:34:08+08:00">
    <meta property="article:tag" content="æŠ€æœ¯">

  <meta itemprop="name" content="åœ¨ cloudflare éƒ¨ç½² Hugo æ„æ¶åšå®¢çš„ manual">
  <meta itemprop="description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
  <meta itemprop="datePublished" content="2024-09-10T23:34:08+08:00">
  <meta itemprop="dateModified" content="2024-09-10T23:34:08+08:00">
  <meta itemprop="wordCount" content="2745">
  <meta itemprop="keywords" content="æŠ€æœ¯">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="åœ¨ cloudflare éƒ¨ç½² Hugo æ„æ¶åšå®¢çš„ manual">
  <meta name="twitter:description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">


    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">

    
    <link rel="stylesheet" href="https://unpkg.com/katex@0.16.4/dist/katex.min.css" crossorigin="anonymous">
    <script src="https://unpkg.com/katex@0.16.4/dist/katex.min.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/katex@0.16.4/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        if (typeof renderMathInElement === "function") {
          renderMathInElement(document.body, {
            delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "$", right: "$", display: false}
            ]
          });
        } else {
          console.warn("KaTeX æ¸²æŸ“å™¨æœªå®šä¹‰ï¼");
        }
      });
    </script>
  </head>

  <body class="ma0 avenir bg-near-white">

    
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://localhost:1313/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Lithos&#39; Blog
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://github.com/Nerolithos" title="">
              ğŸ’» GitHub
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.pixiv.net/users/107379421" title="">
              ğŸ¨ Pixiv
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://localhost:1313/" title="">
              ğŸ  Home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ai.nero-lithos.com" title="">
              ğŸ¤– CUHKSZ AI
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">åœ¨ cloudflare éƒ¨ç½² Hugo æ„æ¶åšå®¢çš„ manual</h1>

      

      
      <time class="f6 mv4 dib tracked" datetime="2024-09-10T23:34:08+08:00">September 10, 2024</time>
      

      
    </header>

    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>æœ¬æ–‡å†…å®¹åœ¨<a href="blog.sunneyseeds.net">sunnyseeds çš„ä¸ªäººåšå®¢</a>çš„åŸºç¡€ä¸Šè¿›è¡Œå¢è¡¥</p>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšäº†ä¸€éï¼Œç«Ÿå‘ç°ç½‘ä¸Šæ‰¾åˆ°çš„æ–‡ç« ï¼Œéƒ½æœ‰å‘ã€‚</p>
<p>åŒ…æ‹¬ hugoã€cloudflare å®˜ç½‘ï¼Œä»¥åŠ GPT çš„è¯´è¾ã€‚</p>
<p><strong>å‰æï¼šä½ çš„ç»ˆç«¯ cli å¾—èƒ½å¤Ÿè¾ƒä¸ºç¨³å®šçš„ è®¿é—® githubã€‚</strong></p>
<p>ï¼ˆå¦åˆ™ï¼Œå³ä¾¿ç…§ç€å®˜ç½‘æ–‡ç« é€å­—é€å¥æ“ä½œä¹Ÿä¼šä»»æ„å˜å½¢&hellip;&hellip;åˆ«è¯´æˆ‘æ²¡æé†’ä½ ï¼‰</p>
<h2 id="ä¸€hugo-init-åšå®¢é¡¹ç›®">ä¸€ã€hugo init åšå®¢é¡¹ç›®</h2>
<h3 id="å®‰è£…-hugo">å®‰è£… hugo</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew install hugo <span style="color:#75715e"># MacOS</span>
</span></span></code></pre></div><h3 id="åˆ›å»º-hugo-ç«™ç‚¹">åˆ›å»º hugo ç«™ç‚¹</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new site &lt;your_blog_project_name&gt; 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿™å°†ä¼šåˆ›å»ºä¸€ä¸ªåä¸º your_blog_project_name çš„é¡¹ç›®</span>
</span></span></code></pre></div><h3 id="é…ç½®-hugo-ä¸»é¢˜">é…ç½® hugo ä¸»é¢˜</h3>
<p>1ã€ä»é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œå¯åŠ¨ hugo æ¨¡å—ç³»ç»Ÿï¼ˆå¦‚æœæ‚¨è¿˜æ²¡æœ‰è¿™æ ·åšï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo mod init github.com/&lt;your_user&gt;/&lt;your_project&gt;
</span></span></code></pre></div><p>2ã€è¿›å…¥æˆ‘ä»¬åˆšåˆ›å»ºçš„ hugo ç«™ç‚¹æ–‡ä»¶å¤¹é‡Œ, æ‰“å¼€ <strong>hugo.toml</strong> æ–‡ä»¶(æŸäº›ç‰ˆæœ¬ä¹Ÿå« <strong>config.toml</strong>)ã€‚å®ƒä½äºé¡¹ç›®åæ ¹ç›®å½•ä¸‹çš„ç¬¬ä¸€å±‚ã€‚</p>
<p>ï½ è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œayu&rsquo;s ä¾‹å­ä¸­ç”¨çš„ newsroom theme ä¼¼ä¹æœ‰é—®é¢˜ï¼šgithub.com/onweru/newsroom</p>
<p>æŒ‰ä¸‹é¢ä¿®æ”¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;https://blog.sunnyseeds.net/&#39;</span>  <span style="color:#75715e"># ä½ è´­ä¹°çš„åŸŸå</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguage</span> = <span style="color:#e6db74">&#34;zh-cn&#34;</span> <span style="color:#75715e"># é»˜è®¤è¯­è¨€</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguageInSubdir</span> = <span style="color:#66d9ef">false</span> <span style="color:#75715e">#ä¸åœ¨URLæ˜¾ç¤ºå½“å‰è¯­è¨€</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-cn&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;sunnyseeds&#39; Blog&#34;</span> <span style="color:#75715e"># Blog title </span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = [<span style="color:#e6db74">&#34;github.com/theNewDynamic/gohugo-theme-ananke&#34;</span>] <span style="color:#75715e"># ä½ é€‰æ‹©çš„ä¸»é¢˜</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hasCJKLanguage</span> = <span style="color:#66d9ef">true</span> <span style="color:#75715e"># CJK ä¸ºä¸­å›½, æ—¥æœ¬, éŸ©å›½çš„ç¼©å†™</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">canonifyurls</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pagerSize</span> = <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">module</span>]
</span></span><span style="display:flex;"><span>[[<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">imports</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">path</span> = <span style="color:#e6db74">&#34;github.com/theNewDynamic/gohugo-theme-ananke&#34;</span>
</span></span></code></pre></div><p><a href="https://github.com/theNewDynamic/gohugo-theme-ananke">Ananke: Hugo ä¸»é¢˜</a>é‡Œæœ‰ä¸€ä¸ªæ›´è¯¦ç»†çš„ä¾‹å­ï¼Œå¯ä»¥æ§åˆ¶ä¸»é¢˜çš„æ–¹æ–¹é¢é¢ï¼Œæˆ‘æš‚æ—¶æ²¡æœ‰ä½¿ç”¨</p>
<h3 id="æ‹‰å–-ä¸»é¢˜-ä»“åº“åˆ°æœ¬åœ°">æ‹‰å– ä¸»é¢˜ ä»“åº“åˆ°æœ¬åœ°</h3>
<p>åœ¨ä½ çš„ Hugo ç½‘ç«™æ ¹ç›®å½•å†…è¿è¡Œï¼š</p>
<pre tabindex="0"><code>git init

git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
</code></pre><p>æ³¨æ„ï¼šgit submodule add ç”¨äºå°†å¦ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå­æ¨¡å—æ·»åŠ åˆ°ç°æœ‰çš„ Git ä»“åº“ä¸­ã€‚å­æ¨¡å—çš„æäº¤å’Œæ›´æ–°æ˜¯é€šè¿‡ä¸»ä»“åº“çš„ <strong>.gitmodules</strong> æ–‡ä»¶æ¥ç®¡ç†çš„ã€‚å®ƒè®°å½•äº† GitHub ä¸Šå¤åˆ¶ä¸‹æ¥çš„ä¸»é¢˜çš„é¡¹ç›®è·¯å¾„ã€‚è¿™ä¸ªå¾ˆå¯èƒ½å°±æ˜¯ä¸‹é¢æŠ¥é”™çš„åŸå› ï¼ˆä½¿ç”¨submodule æ‰ä¼šæœ‰ .gitmodules æ–‡ä»¶ï¼ŒåµŒå¥— git ä¸å¥½å¸¦å•Šï¼‰ï¼š</p>
<p><img src="https://img.sunnyseed.me/2024/09/10/3025d116d27d1.png" alt="image.png"></p>
<p>å¦‚æœè¿™ä¸ªé—®é¢˜å¾—ä¸åˆ°è§£å†³ï¼Œä½ å¯ä»¥å°è¯•æŠŠé…ç½®æ–‡ä»¶(hugo.toml)è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹(çœç•¥äº†ä¸»é¢˜çš„è·¯å¾„ï¼Œäº¤ç»™ .gitmodules å¯»è·¯)ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;https://blog.sunnyseeds.net/&#39;</span>  <span style="color:#75715e"># ä½ è´­ä¹°çš„åŸŸå</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguage</span> = <span style="color:#e6db74">&#34;zh-cn&#34;</span> <span style="color:#75715e"># é»˜è®¤è¯­è¨€</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguageInSubdir</span> = <span style="color:#66d9ef">false</span> <span style="color:#75715e">#ä¸åœ¨URLæ˜¾ç¤ºå½“å‰è¯­è¨€</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-cn&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;sunnyseeds&#39; Blog&#34;</span> <span style="color:#75715e"># Blog title </span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = <span style="color:#e6db74">&#39;anake&#39;</span> <span style="color:#75715e"># ä½ é€‰æ‹©çš„ä¸»é¢˜</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hasCJKLanguage</span> = <span style="color:#66d9ef">true</span> <span style="color:#75715e"># CJK ä¸ºä¸­å›½, æ—¥æœ¬, éŸ©å›½çš„ç¼©å†™</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">canonifyurls</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pagerSize</span> = <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><h4 id="åˆ›å»ºæ–°å¸–å­">åˆ›å»ºæ–°å¸–å­</h4>
<pre tabindex="0"><code>hugo new content posts/hello-world.md
</code></pre><p>hugo çš„æ¯ä¸€ç¯‡ post å‰ï¼Œéœ€è¦æœ‰ toml æˆ– yaml æ ¼å¼çš„ front matterï¼Œç”¨äºæ§åˆ¶æ–‡ç« æ˜¾ç¤ºã€‚</p>
<p>ä¿®æ”¹ contents\posts\hello-world.md</p>
<p>hugo ç½‘ç«™æ¶æ„æ”¯æŒä¸¤ç§æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ä»£ç (æ¯” html æ¥è¿‘è‡ªç„¶è¯­è¨€)
yaml æ ¼å¼ï¼šç”¨å†’å·è¡”æ¥å˜é‡ä¸å‚æ•°ã€‚
toml æ ¼å¼ï¼šç”¨ç­‰å·è¡”æ¥å˜é‡ä¸å‚æ•°ã€‚
<strong>ä¸¤ç§æ ¼å¼çš„ç¼–è¾‘éƒ½éœ€è¦ä¸Šä¸‹ç”¨â€œ&mdash;â€åŒ…è£¹ã€‚ä¸¤ç§è¯­è¨€ä¸èƒ½æ··åˆä½¿ç”¨ï¼Œå¦åˆ™ Cloudflare ä¼šæŠ¥é”™ã€‚</strong>
å¯åŒ…å«çš„å†…å®¹æœ‰ï¼š
title, date, draft, featured_picture, summary, tag ç­‰ç­‰ã€‚</p>
<p>æ³¨æ„ï¼Œ<strong>è¦åˆ é™¤ <code>draft = true</code> è¿™ä¸€è¡Œï¼Œå¦åˆ™ä¸ä¼šæ˜¾ç¤º</strong></p>
<p>å†æ³¨æ„ï¼Œ**ä¸€å®šè¦ç¡®ä¿ md æ–‡ä»¶ä½äº content/posts/ ç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯ç›´æ¥è£¸éœ²åœ¨ content/ ä¸‹ï¼Œè¿™ä¼šå¯¼è‡´æ˜¾ç¤ºåŠŸèƒ½å¼‚å¸¸ã€‚**ä¸è¦é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ã€‚</p>
<h4 id="æœ¬åœ°é¢„è§ˆ">æœ¬åœ°é¢„è§ˆ</h4>
<pre tabindex="0"><code>hugo server
</code></pre><p>æŒ‰ç…§ 2ã€<a href="https://discourse.gohugo.io/t/fatal-error-when-deploying-to-cloudflare/41368">åœ¨éƒ¨ç½²åˆ° Cloudflare æ—¶å‘ç”Ÿè‡´å‘½é”™è¯¯ - HUGO æ”¯æŒæ–‡æ¡£</a> è¿™ä¸€æ­¥ä¹‹å‰è¿˜æœ‰æ‰‹åŠ¨ <code>npm ci</code> å¤„ç†è¿‡ç¨‹ï¼Œä½†æˆ‘æ²¡æœ‰ä½¿ç”¨ï¼Œå¯èƒ½æ–°ç‰ˆä¸éœ€è¦ï¼Ÿ</p>
<h2 id="äºŒä¸Šä¼ -github">äºŒã€ä¸Šä¼  github</h2>
<h3 id="1ç”Ÿæˆ-repository">1ã€ç”Ÿæˆ repository</h3>
<p><img src="https://img.sunnyseed.me/2024/09/10/4569accd95619.png" alt="image.png"></p>
<h3 id="2create-a-new-repository-on-the-command-line">2ã€create a new repository on the command line</h3>
<p>è¿›å…¥blog æ‰€åœ¨ç›®å½•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;first commit&#34;</span>
</span></span><span style="display:flex;"><span>git branch -M main
</span></span><span style="display:flex;"><span>git remote add origin https://github.com/sunnyseed/blog.git
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>ä¹‹åå†æ¬¡ä¿®æ”¹çš„è¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;xxx&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>å¦‚æœæ˜¯ä½¿ç”¨ ssh ç™»å½• githubï¼Œåˆ™è¦ä½¿ç”¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git remote add origin git@github.com:sunnyseed/blog.git
</span></span></code></pre></div><p>æ³¨æ„ï¼ŒGitHubä¸Šä¸€å®šè¦æ‰¹å‡† configure ä¸€ä¸‹ cloudflare å¯¹äºè¯¥é¡¹ç›®ç›®å½•çš„è®¿é—®æƒã€‚</p>
<h2 id="ä¸‰è®¾ç½®-cloudflare">ä¸‰ã€è®¾ç½® cloudflare</h2>
<p>æŒ‰ç…§ 1ã€<a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/">Hugo éƒ¨ç½² | Cloudflare Pages æ–‡æ¡£</a> è®¾ç½®å³å¯ï¼Œå…¶ä¸­æ„å»ºå‘½ä»¤ï¼ˆæˆ‘ç…§æŠ„çš„ï¼Œä¸çŸ¥ä¸ºå•¥ğŸ˜„ï¼‰ï¼š</p>
<pre tabindex="0"><code>hugo -b $CF_PAGES_URL
</code></pre><p><strong>è¡¥å……</strong>ï¼Œåˆæ˜¯å‘ï¼š-b æ˜¯å›ºå®š baseurl çš„æ„æ€ï¼ˆå°±æ˜¯ç½‘ç«™çš„ åŸºæœ¬ URLï¼Œå›ºå®šæˆ cf page çš„åœ°å€ï¼‰ï¼Œ<strong>å¦‚æœä½ æœ‰æ³¨å†Œç½‘å€çš„è¯ï¼Œç”¨é»˜è®¤çš„ï¼š<code>hugo</code> æ‰è¡Œ</strong>(ä¹Ÿå°±æ˜¯å¦‚æœä½ åœ¨æ¯”å¦‚ Cloudflare ä¸Šè´­ä¹°äº†åŸŸåçš„è¯)ã€‚è¿™ä¹ˆå†™ä¼šå¯¼è‡´é”™è¯¯çš„ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡ååº”è¿‡æ¥ã€‚</p>
<p>éšåç¡®è®¤åœ¨ æ„å»º æ—¶ï¼Œæ²¡æœ‰æŠ¥é”™å³å¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ pages åˆ†é…çš„åŸŸè®¿é—®äº†ï¼ˆæ¯”å¦‚ myblog-dg4.pages.devï¼‰ã€‚æœ¬åœ°æ›´æ–°ååªéœ€è¦ï¼Œpush ä¸€ä¸‹ï¼Œcf æ˜¯è‡ªåŠ¨æ›´æ–°å‘å¸ƒçš„ã€‚</p>
<h2 id="å››ç»‘å®šåŸŸå">å››ã€ç»‘å®šåŸŸå</h2>
<ol>
<li>
<p>åœ¨ åŸŸæ³¨å†Œ-DNS ä¸­åŠ ä¸€ä¸ª CNAME (æ¯”å¦‚ blog )è®°å½•ï¼Œå°†ä½ çš„åŸŸåæŒ‡å‘ pages åˆ†é…çš„åŸŸåæ¯”å¦‚ myblog-dg4.pages.devï¼Œ<strong>æ³¨æ„ï¼Œä¸è¦åŒ…æ‹¬ç‰ˆæœ¬å·</strong>(å¦åˆ™ä½ æ¯æ›´æ–°ä¸€æ¬¡å°±å¾—æ¢ä¸ªè®°å½•ï¼Œä¾æ—§ä¸è¦é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„)ã€‚</p>
</li>
<li>
<p>åœ¨ pages çš„ è‡ªå®šä¹‰åŸŸä¸­ï¼ŒåŠ å…¥ä¸€ä¸ªæŒ‡å‘ CNAME ï¼ˆblog.ne&rsquo;ro-lithos.comï¼‰ çš„è®°å½•ã€‚</p>
</li>
</ol>
<p>å°±å¯ä»¥è®¿é—® (blog.ne&rsquo;ro-lithos.com)ä½¿ç”¨äº†ã€‚</p>
<h2 id="äº”å›¾ç‰‡è®¾ç½®">äº”ã€å›¾ç‰‡è®¾ç½®</h2>
<h3 id="ä¸ºé¦–é¡µè®¾ç½®-hero-å›¾">ä¸ºé¦–é¡µè®¾ç½® â€œHeroâ€ å›¾</h3>
<p>é¦–é¡µçš„è®¾ç½®é€šå¸¸åœ¨ <code>content/_index.md</code> æ–‡ä»¶ä¸­è¿›è¡Œã€‚åœ¨è¿™ä¸ªæ–‡ä»¶çš„ front matter ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>featured_image</code> å‚æ•°æ¥æŒ‡å®š Hero å›¾ã€‚æ‰“å¼€ <code>content/_index.md</code> æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªï¼‰ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;Lithos&#39; Blog&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">description</span>: <span style="color:#e6db74">&#34;a CUHKSZ survival documentation&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">featured_image</span>: <span style="color:#e6db74">&#39;/images/Head.jpg&#39;</span>
</span></span></code></pre></div><p>å°† <code>images/Head.jpg</code> æ›¿æ¢ä¸ºä½ å®é™…å›¾ç‰‡åç§°ã€‚ç¡®ä¿è¯¥å›¾ç‰‡å·²ä¸Šä¼ åˆ° <code>static/images</code> ç›®å½•ä¸­ã€‚</p>
<h3 id="ä¸º-post-è®¾ç½®-ç‰¹å†™-å›¾">ä¸º post è®¾ç½® â€œç‰¹å†™â€ å›¾</h3>
<p>post çš„ç‰¹å†™å›¾ï¼Œå†™åœ¨æ¯ä¸€ä¸ª post çš„ front matter ä¸­:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#75715e"># toml</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39; # Grassroot HongKong&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">date</span> = <span style="color:#e6db74">2024-09-10T09:08:58+08:00</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">draft</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">featured_image</span> = <span style="color:#e6db74">&#39;/images/ymt.jpg&#39;</span>
</span></span></code></pre></div><p>è¡¥å……ï¼š</p>
<p>æ‰‹å·¥æµ‹é‡äº†ä¸€ä¸‹ï¼ŒAnanke çš„ hero é€šæ å›¾ç‰‡çš„é•¿å®½æ¯”ä¾‹æ˜¯ 1 : 0.28ï¼ˆè¿™åœ¨ 1980 åˆ†è¾¨ç‡ä¸Šï¼Œå°ºå¯¸çº¦ 1905 * 534ï¼‰ã€‚ ä¸ç”¨å¾ˆç²¾ç¡®ï¼Œhugo ä¼šè‡ªå·± cut ä¸‹é¢å¤šä½™éƒ¨åˆ†ã€‚</p>
<h3 id="æ–‡ç« ä¸­çš„æ™®é€šå›¾ç‰‡">æ–‡ç« ä¸­çš„æ™®é€šå›¾ç‰‡</h3>
<p>æ¸²æŸ“æ–¹å¼ä¸ºï¼š![#æ³¨é‡Š#](#å›¾ç‰‡çš„å­˜å‚¨ä½ç½®https://â€¦â€¦#)</p>
<p>æˆ‘æš‚æ—¶ä½¿ç”¨çš„æ˜¯ <a href="https://postimg.cc/">https://postimg.cc/</a> ä½œä¸ºå­˜å‚¨åº“ï¼Œä½†å¦‚æœä½ æœ‰å…´è¶£ï¼Œä¸”åƒæˆ‘ä¸€æ ·å†³å®šæ°¸è¿œæ³¨å†Œä¸€ä¸ªç§äººåŸŸåï¼Œä½ ä¹Ÿèƒ½ç›´æ¥å­˜åœ¨è‡ªå·±çš„å­åŸŸåä¸Šï¼ˆä»¥æˆ‘ä¸ºä¾‹ï¼Œå¯ä»¥å­˜åœ¨ â€œimages.nero-lithos.com&quot; ä¸Š)</p>
<h2 id="å…­è¯„è®ºåŠŸèƒ½">å…­ã€è¯„è®ºåŠŸèƒ½</h2>
<p>å¦‚æœä½ æœ‰ä¸ªäººæœåŠ¡å™¨ï¼Œè¯·é‡‡ç”¨ Commento çš„æœåŠ¡ï¼Œå®ƒæ›´æ–¹ä¾¿ã€‚æœ¬ç¯‡å±•ç¤º Disqus æä¾›çš„è¯„è®ºåŒºæœåŠ¡ï¼Œé›¶åŸºç¡€ã€‚</p>
<p>åœ¨ Disqus å®˜ç½‘ä¸Šæ³¨å†Œä¸€ä¸ªæ–°å·ï¼Œå¹¶å…³è”ä½ çš„åšå®¢çš„åŸŸåï¼Œé€‰æ‹©ä¸€ä¸ªç½‘é¡µ<strong>shortname</strong>ï¼Œå¹¶è®°ä½å®ƒã€‚ç„¶åé€‰æ‹© Universal Code-Installation æ¥éƒ¨ç½² Disqusï¼Œè·Ÿéšå®˜ç½‘ä¸Šçš„ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>
<p>hugo.htmlé‡Œå¢åŠ ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>[services]
</span></span><span style="display:flex;"><span>  [services.disqus]
</span></span><span style="display:flex;"><span>    shortname = &#39;nero-lithos&#39;
</span></span></code></pre></div></li>
<li>
<p>themes/anake/layouts/_default ä¸­æ‰¾åˆ° single.htmlï¼Œé‡Œé¢åº”å½“æ˜¯ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{ define &#34;header&#34; }}
</span></span><span style="display:flex;"><span>   {{/* We can override any block in the baseof file be defining it in the template */}}
</span></span><span style="display:flex;"><span>  {{ partial &#34;page-header.html&#34; . }}
</span></span><span style="display:flex;"><span>{{ end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{ define &#34;main&#34; }}
</span></span><span style="display:flex;"><span>  {{ $section := .Site.GetPage &#34;section&#34; .Section }}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">article</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;flex-l flex-wrap justify-between mw8 center ph3&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">header</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mt4 w-100&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">aside</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;instapaper_ignoref b helvetica tracked ttu&#34;</span>&gt;
</span></span><span style="display:flex;"><span>          {{/*
</span></span><span style="display:flex;"><span>          CurrentSection allows us to use the section title instead of inferring from the folder.
</span></span><span style="display:flex;"><span>          https://gohugo.io/variables/page/#section-variables-and-methods
</span></span><span style="display:flex;"><span>          */}}
</span></span><span style="display:flex;"><span>        {{ .CurrentSection.Title }}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">aside</span>&gt;
</span></span><span style="display:flex;"><span>      {{ partial &#34;social-share.html&#34; . }}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;f1 athelas mt3 mb1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        {{- .Title -}}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>      {{ with .Params.author | default .Site.Params.author }}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tracked&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        {{ $.Render &#34;by&#34; }} &lt;<span style="color:#f92672">strong</span>&gt;
</span></span><span style="display:flex;"><span>        {{- if reflect.IsSlice . -}}
</span></span><span style="display:flex;"><span>            {{ delimit . &#34;, &#34; | markdownify }}
</span></span><span style="display:flex;"><span>        {{- else -}}
</span></span><span style="display:flex;"><span>            {{ . | markdownify }}
</span></span><span style="display:flex;"><span>        {{- end -}}
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">strong</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      {{ end }}
</span></span><span style="display:flex;"><span>      {{/* Hugo uses Go&#39;s date formatting is set by example. Here are two formats */}}
</span></span><span style="display:flex;"><span>      {{ if not .Date.IsZero }}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">time</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;f6 mv4 dib tracked&#34;</span> <span style="color:#960050;background-color:#1e0010">{{</span> <span style="color:#a6e22e">printf</span> <span style="color:#960050;background-color:#1e0010">`</span><span style="color:#a6e22e">datetime</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;%s&#34;</span><span style="color:#960050;background-color:#1e0010">`</span> <span style="color:#960050;background-color:#1e0010">(.</span><span style="color:#a6e22e">Date</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Format</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">2006-01-02T15:04:05Z07:00</span><span style="color:#960050;background-color:#1e0010">&#34;)</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">safeHTMLAttr</span> <span style="color:#960050;background-color:#1e0010">}}</span>&gt;
</span></span><span style="display:flex;"><span>        {{- .Date | time.Format (default &#34;January 2, 2006&#34; .Site.Params.date_format) -}}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">time</span>&gt;
</span></span><span style="display:flex;"><span>      {{end}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      {{/*
</span></span><span style="display:flex;"><span>          Show &#34;reading time&#34; and &#34;word count&#34; but only if one of the following are true:
</span></span><span style="display:flex;"><span>          1) A global config `params` value is set `show_reading_time = true`
</span></span><span style="display:flex;"><span>          2) A section front matter value is set `show_reading_time = true`
</span></span><span style="display:flex;"><span>          3) A page front matter value is set `show_reading_time = true`
</span></span><span style="display:flex;"><span>        */}}
</span></span><span style="display:flex;"><span>      {{ if (or (eq (.Param &#34;show_reading_time&#34;) true) (eq $section.Params.show_reading_time true) )}}
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;f6 mv4 dib tracked&#34;</span>&gt; - {{ i18n &#34;readingTime&#34; .ReadingTime }} &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;f6 mv4 dib tracked&#34;</span>&gt; - {{ i18n &#34;wordCount&#34; .WordCount }} &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>      {{ end }}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">header</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nested-copy-line-height lh-copy {{ $.Param &#34;</span><span style="color:#a6e22e">post_content_classes</span><span style="color:#960050;background-color:#1e0010">&#34;</span>  <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">default</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">serif</span><span style="color:#960050;background-color:#1e0010">&#34;}}</span> <span style="color:#a6e22e">f4</span> <span style="color:#a6e22e">nested-links</span> <span style="color:#960050;background-color:#1e0010">{{</span> <span style="color:#960050;background-color:#1e0010">$.</span><span style="color:#a6e22e">Param</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">text_color</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">default</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">mid-gray</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">}}</span> <span style="color:#960050;background-color:#1e0010">{{</span> <span style="color:#a6e22e">cond</span> <span style="color:#960050;background-color:#1e0010">(</span><span style="color:#a6e22e">eq</span> <span style="color:#960050;background-color:#1e0010">$.</span><span style="color:#a6e22e">Site</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Language</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">LanguageDirection</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">rtl</span><span style="color:#960050;background-color:#1e0010">&#34;)</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">pl4-l</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">pr4-l</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">}}</span> <span style="color:#a6e22e">w-two-thirds-l</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      {{- .Content -}}
</span></span><span style="display:flex;"><span>      {{- partial &#34;tags.html&#34; . -}}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mt6 instapaper_ignoref&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      {{ partial &#34;disqus.html&#34; . }}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">aside</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;w-30-l mt6-l&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      {{- partial &#34;menu-contextual.html&#34; . -}}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">aside</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">article</span>&gt;
</span></span><span style="display:flex;"><span>{{ end }}
</span></span></code></pre></div></li>
<li>
<p>themes/anake/layouts/partials ä¸­æ‰¾åˆ°æˆ–åˆ›å»º disqus.htmlï¼Œé‡Œé¢åº”å½“æ˜¯ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- $pc := .Site.Config.Privacy.Disqus -}}
</span></span><span style="display:flex;"><span>{{- if not $pc.Disable -}}
</span></span><span style="display:flex;"><span>{{ if .Site.Config.Services.Disqus.Shortname }}&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;disqus_thread&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    window.<span style="color:#a6e22e">disqus_config</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>    {{<span style="color:#66d9ef">with</span> .<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">disqus_identifier</span> }}<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">page</span>.<span style="color:#a6e22e">identifier</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{{ . }}&#39;</span>;{{<span style="color:#a6e22e">end</span>}}
</span></span><span style="display:flex;"><span>    {{<span style="color:#66d9ef">with</span> .<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">disqus_title</span> }}<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">page</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{{ . }}&#39;</span>;{{<span style="color:#a6e22e">end</span>}}
</span></span><span style="display:flex;"><span>    {{<span style="color:#66d9ef">with</span> .<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">disqus_url</span> }}<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">page</span>.<span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{{ . | html  }}&#39;</span>;{{<span style="color:#a6e22e">end</span>}}
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ([<span style="color:#e6db74">&#34;localhost&#34;</span>, <span style="color:#e6db74">&#34;127.0.0.1&#34;</span>].<span style="color:#a6e22e">indexOf</span>(window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">hostname</span>) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;disqus_thread&#39;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Disqus comments not available by default when the website is previewed locally.&#39;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">d</span> <span style="color:#f92672">=</span> document, <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;script&#39;</span>); <span style="color:#a6e22e">s</span>.<span style="color:#66d9ef">async</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">src</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;//&#39;</span> <span style="color:#f92672">+</span> {{ .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">Services</span>.<span style="color:#a6e22e">Disqus</span>.<span style="color:#a6e22e">Shortname</span> }} <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.disqus.com/embed.js&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#39;data-timestamp&#39;</span>, <span style="color:#f92672">+</span><span style="color:#66d9ef">new</span> Date());
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">head</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">body</span>).<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">s</span>);
</span></span><span style="display:flex;"><span>    })();
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">noscript</span>&gt;Please enable JavaScript to view the &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://disqus.com/?ref_noscript&#34;</span>&gt;comments powered by Disqus.&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">noscript</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://disqus.com&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dsq-brlink&#34;</span>&gt;comments powered by &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo-disqus&#34;</span>&gt;Disqus&lt;/<span style="color:#f92672">span</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;{{end}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><p>ç„¶åï¼Œå°±ä¼šåœ¨æ¯ç¯‡åšå®¢åº•ä¸‹çœ‹åˆ° Disqus è¯„è®ºåŒº(å®æ—¶åŠ è½½çš„)ã€‚</p>
</li>
</ul>
<h2 id="reference">Reference</h2>
<p>1ã€<a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/">Hugo éƒ¨ç½² | Cloudflare Pages æ–‡æ¡£</a></p>
<p>2ã€<a href="https://blog.sunnyseeds.net/cn/posts/modify_hero_image_of_hugo_theme/">sunnyseeds çš„ä¸ªäººåšå®¢</a></p>
<p>3ã€<a href="https://ayurain.com/posts/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Ccloudflare%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88/">åŸºäº hugo å’Œ cloudflare Page çš„åšå®¢æ–¹æ¡ˆ | ayu&rsquo;s Blog</a></p>
<p>4ã€<a href="https://github.com/theNewDynamic/gohugo-theme-ananke">Ananke: Hugo ä¸»é¢˜</a></p>
<p>5ã€<a href="https://discourse.gohugo.io/t/fatal-error-when-deploying-to-cloudflare/41368">åœ¨éƒ¨ç½²åˆ° Cloudflare æ—¶å‘ç”Ÿè‡´å‘½é”™è¯¯ - HUGO æ”¯æŒæ–‡æ¡£</a></p>
<ul class="pa0">
  
   <li class="list di">
     <a href="http://localhost:1313/tags/%E6%8A%80%E6%9C%AF/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">æŠ€æœ¯</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
        
          <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "nero-lithos" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="custom-footer">
  <p>&copy; Lithos&#39; Blog 2026</p>

  
    <ul class="footer-links">
      
        <li><a href="https://github.com/Nerolithos" target="_blank" rel="noopener noreferrer">ğŸ’» GitHub</a></li>
      
        <li><a href="https://www.pixiv.net/users/107379421" target="_blank" rel="noopener noreferrer">ğŸ¨ Pixiv</a></li>
      
        <li><a href="https://blog.nero-lithos.com/" target="_blank" rel="noopener noreferrer">ğŸ  Home</a></li>
      
        <li><a href="https://futuregate.streamlit.app/" target="_blank" rel="noopener noreferrer">ğŸ¤– CUHKSZ AI</a></li>
      
    </ul>
  
</footer>

  </body>
</html>