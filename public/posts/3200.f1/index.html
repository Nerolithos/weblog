<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§) | Lithos&#39; Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="CUHKSZ å¤§äºŒè¯¾ç¨‹ CSC3200 å…³äºé“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ˜ å°„å’Œé›†åˆè¿™äº›æ•°æ®ç»“æ„">
    <meta name="generator" content="Hugo 0.134.1">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="http://localhost:1313/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
  

    
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/3200.f1/">
    <meta property="og:url" content="http://localhost:1313/posts/3200.f1/">
  <meta property="og:site_name" content="Lithos&#39; Blog">
  <meta property="og:title" content="ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§)">
  <meta property="og:description" content="CUHKSZ å¤§äºŒè¯¾ç¨‹ CSC3200 å…³äºé“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ˜ å°„å’Œé›†åˆè¿™äº›æ•°æ®ç»“æ„">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-11-21T13:29:34+08:00">
    <meta property="article:modified_time" content="2025-11-21T13:29:34+08:00">
    <meta property="article:tag" content="CSC3200">

  <meta itemprop="name" content="ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§)">
  <meta itemprop="description" content="CUHKSZ å¤§äºŒè¯¾ç¨‹ CSC3200 å…³äºé“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ˜ å°„å’Œé›†åˆè¿™äº›æ•°æ®ç»“æ„">
  <meta itemprop="datePublished" content="2025-11-21T13:29:34+08:00">
  <meta itemprop="dateModified" content="2025-11-21T13:29:34+08:00">
  <meta itemprop="wordCount" content="8250">
  <meta itemprop="keywords" content="CSC3200">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§)">
  <meta name="twitter:description" content="CUHKSZ å¤§äºŒè¯¾ç¨‹ CSC3200 å…³äºé“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ˜ å°„å’Œé›†åˆè¿™äº›æ•°æ®ç»“æ„">


    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">

    
    <link rel="stylesheet" href="https://unpkg.com/katex@0.16.4/dist/katex.min.css" crossorigin="anonymous">
    <script src="https://unpkg.com/katex@0.16.4/dist/katex.min.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/katex@0.16.4/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        if (typeof renderMathInElement === "function") {
          renderMathInElement(document.body, {
            delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "$", right: "$", display: false}
            ]
          });
        } else {
          console.warn("KaTeX æ¸²æŸ“å™¨æœªå®šä¹‰ï¼");
        }
      });
    </script>
  </head>

  <body class="ma0 avenir bg-near-white">

    
  

  
  <header class="cover bg-top" style="background-image: url('http://localhost:1313/images/hm.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://localhost:1313/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Lithos&#39; Blog
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://github.com/Nerolithos" title="">
              ğŸ’» GitHub
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.pixiv.net/users/107379421" title="">
              ğŸ¨ Pixiv
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://localhost:1313/" title="">
              ğŸ  Home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://ai.nero-lithos.com" title="">
              ğŸ¤– CUHKSZ AI
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§)</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">ğŸ’» CSC3200 Final Revision C&#43;&#43; æ•°æ®ç»“æ„(çº¿æ€§)</h1>

      

      
      <time class="f6 mv4 dib tracked" datetime="2025-11-21T13:29:34+08:00">November 21, 2025</time>
      

      
    </header>

    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id="c-æ•°æ®ç»“æ„çº¿æ€§-é“¾è¡¨æ ˆé˜Ÿåˆ—æ˜ å°„é›†åˆ">C++ æ•°æ®ç»“æ„(çº¿æ€§) ï¼šé“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ˜ å°„ã€é›†åˆ</h1>
</br>
<p><strong>æ•°ç»„</strong>ã€<strong>å‘é‡</strong>å’Œ<strong>é“¾è¡¨</strong>æ˜¯ C++ æ¯”è¾ƒåŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç®€å•çš„ä»é›¶å»ºç«‹ï¼›<strong>æ ‘</strong>å’Œ<strong>æ˜ å°„</strong>åˆ™ä¸º STD ä¸­æœ‰å®ç°çš„å¤æ‚æ•°æ®ç»“æ„ã€‚</p>
<p><strong>æ ˆ</strong>å’Œ<strong>é˜Ÿåˆ—</strong>æ˜¯å¯¹â€œçº¿æ€§è¡¨â€æ“ä½œå—é™åçš„æŠ½è±¡ï¼ˆLIFO/FIFOï¼‰ï¼Œå®ç°å¯ä»¥ç”¨æ•°ç»„æˆ–é“¾è¡¨ï¼›è€Œ<strong>é›†åˆ</strong>å¯ä»¥ç”¨å››ç§åŸºç¡€æ•°æ®ç»“æ„å®ç°ã€‚</p>
<p>æ•°ç»„å·²åœ¨å…ˆå‰é˜é‡Šè¿‡ï¼Œæ•…åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…ˆç€é‡äº<strong>çº¿æ€§æ•°æ®ç»“æ„</strong>çš„ç†è§£ã€‚åœ¨ä¸‹åŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬å­¦ä¹ æ ‘ã€å›¾ã€å †ä¸‰ä¸ªéçº¿æ€§æ•°æ®ç»“æ„ã€‚</p>
</br>
</br>
<h1 id="ä¸€é“¾è¡¨-linkedlistæ•°ç»„-vs-é“¾è¡¨ä¸æŒ‡é’ˆæ“ä½œ">ä¸€ã€é“¾è¡¨ LinkedListï¼šâ€œæ•°ç»„ vs é“¾è¡¨â€ä¸æŒ‡é’ˆæ“ä½œ</h1>
</br>
<h2 id="æŠ½è±¡å®šä¹‰">æŠ½è±¡å®šä¹‰</h2>
<p><strong>å•é“¾è¡¨</strong>æ˜¯ç”¨<strong>æŒ‡é’ˆ</strong>å•å‘è¿èµ·æ¥çš„<strong>ç¦»æ•£</strong>å†…å­˜å—ï¼š<strong>æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨ç€ä¸‹ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</strong>ã€‚</p>
<p><img src="https://i.postimg.cc/G3vPxpMw/LLdrawio.png" alt=""></p>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šå­˜ä¸€ä¸²æ•°æ®ï¼Œæ”¯æŒæ¯”æ•°ç»„æ›´ç®€å•åœ°<strong>æ’å…¥</strong>æˆ–<strong>åˆ é™¤</strong>ï¼Œå¯ä»¥åšåˆ°éå†</li>
<li><strong>æ•°ç»„å’Œå‘é‡</strong>çš„ç‰¹ç‚¹ï¼š<strong>è®¿é—®å¿«ã€æ’åˆ éš¾</strong>ã€‚è¿ç»­å†…å­˜ï¼ŒO(1) éšæœºè®¿é—®ï¼Œä½†ä¸­é—´æ’å…¥åˆ é™¤è¦æ•´ä½“ç§»åŠ¨ï¼Œé•¿åº¦ä¸æ˜“åŠ¨æ€æ”¹å˜</li>
<li><strong>é“¾è¡¨</strong>çš„ç‰¹ç‚¹ï¼š<strong>æ’åˆ å¿«ã€è®¿é—®æ…¢</strong>ã€‚æ¯ä¸ªç»“ç‚¹å•ç‹¬ new å‡ºæ¥ï¼Œç”¨ next ä¸²èµ·æ¥ï¼Œå†…å­˜ä¸è¿ç»­ã€‚æ’å…¥/åˆ é™¤åªæ”¹æŒ‡é’ˆï¼ŒO(1)ï¼›ä½†éšæœºè®¿é—®å˜æˆ O(n)</li>
</ul>
</br>
</br>
<h2 id="æ ¸å¿ƒä»£ç æ¨¡æ¿">æ ¸å¿ƒä»£ç æ¨¡æ¿</h2>
<p>ç»“ç‚¹ä¸åŸºæœ¬è¡¨ä½“ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Node</span> {  <span style="color:#75715e">// èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    T element;  <span style="color:#75715e">// æˆå‘˜å˜é‡ï¼šä»»æ„æ•°æ®ç±»å‹çš„æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Node <span style="color:#f92672">*</span>next;  <span style="color:#75715e">// æˆå‘˜å˜é‡ï¼šæŒ‡å‘èŠ‚ç‚¹ç±»çš„ç©ºæŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    Node(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> e <span style="color:#f92672">=</span> T(), Node <span style="color:#f92672">*</span>n <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>)  <span style="color:#75715e">// ç±»æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// èŠ‚ç‚¹é‡Œè£…ç€æ•°æ® elementï¼Œä»¥åŠæŒ‡å‘â€œä¸‹ä¸€ä¸ªèŠ‚ç‚¹â€çš„æŒ‡é’ˆ next
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">:</span> element(e), next(n) {}  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// åˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œè°ƒç”¨æ—¶æ¯”å¦‚ï¼šnew Node&lt;int&gt;(5, nullptr)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">List</span> {  <span style="color:#75715e">// è¡¨ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>dummyHead;  <span style="color:#75715e">// ç©ºå ä½å¤´ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    List() {  <span style="color:#75715e">// æ— å‚æ•°æ„é€ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        dummyHead <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(T(), <span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> zeroth() { <span style="color:#66d9ef">return</span> dummyHead; }
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> first()  { <span style="color:#66d9ef">return</span> dummyHead<span style="color:#f92672">-&gt;</span>next; }  <span style="color:#75715e">// æŒ‡é’ˆç”¨ç®­å¤´è®¿é—®æˆå‘˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> first() <span style="color:#f92672">==</span> <span style="color:#66d9ef">nullptr</span>; }  <span style="color:#75715e">//åˆ¤æ–­è¡¨æ˜¯å¦ç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span></code></pre></div><p><strong>å¸¦ dummy head çš„å¥½å¤„</strong>ï¼š</p>
<ul>
<li><code>dummyHead</code> æ˜¯ä¸€ä¸ª <code>Node&lt;T&gt;</code> çš„å®ä¾‹ï¼Œä½œä¸ºé“¾è¡¨çš„è¡¨å¤´ï¼Œå…¶æ•°æ®ä¸º<code>T()</code>ä¹Ÿå°±æ˜¯ç©ºå­—ç¬¦/0ï¼Œ å…¶æŒ‡é’ˆé»˜è®¤ä¸ºç©ºæŒ‡é’ˆ</li>
<li>ä¿è¯æ–°å»ºç«‹çš„é“¾è¡¨<strong>æ°¸è¿œæœ‰å¤´ç»“ç‚¹</strong> (å³ä½¿å®é™…ä¸ºç©º)ï¼Œ<strong>åç»­ä»£ç å¯å…¼å®¹ <code>dummyHead</code></strong></li>
<li>é“¾è¡¨ â€œæ˜¯å¦ä¸ºç©ºâ€ åªéœ€åˆ¤æ–­ <code>dummyHead-&gt;next == nullptr</code></li>
</ul>
</br>
<p>å¤ä¹ ç‚¹ï¼š</p>
<ul>
<li><code>Node&lt;T&gt; *nPtr = new Node&lt;T&gt;(â€¦)</code> ä¸æ˜¯è¯´ <code>Node&lt;T&gt;</code> æ˜¯æŒ‡é’ˆç±»ï¼Œè€Œæ˜¯è¯´åˆ›å»ºä¸€ä¸ªå®ä¾‹åç›´æ¥è·å¾—å…¶æŒ‡é’ˆ nPtr</li>
<li>æŒ‡é’ˆå¯¹åº”æ•°æ®åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼š<code>T *ptr = &amp;a</code>ï¼Œ<code>*ptr</code> ç­‰ä»·äº <code>a</code>ï¼Œ<code>&amp;a</code> ç­‰ä»·äº <code>ptr</code></li>
<li><code>ptr-&gt;member</code> ä¸ <code>(*ptr).member</code> ç­‰ä»·ï¼Œ<strong>æŒ‡é’ˆåªèƒ½é€šè¿‡ <code>-&gt;</code> è®¿é—®æˆå‘˜å˜é‡å’Œæ–¹æ³•</strong></li>
<li><strong>æ¨¡ç‰ˆç±»</strong>å¯ä»¥è®©ä»£ç æ®µå…¼å®¹ä¸åŒæ•°æ®ç±»å‹ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>  <span style="color:#75715e">// æˆ–å†™ class Tï¼Œç­‰ä»·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>T add(T a, T b) { <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> x <span style="color:#f92672">=</span> add(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);  <span style="color:#75715e">// ç±»å‹è‡ªåŠ¨æ¨å¯¼ -&gt; add&lt;int&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> y <span style="color:#f92672">=</span> add<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2.5</span>);  <span style="color:#75715e">// æ˜¾å¼æŒ‡æ˜æ¨¡æ¿å®å‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»¥åŠåœ¨æ¨¡æ¿ç±»å¤–ï¼Œè°ƒç”¨æ¨¡æ¿ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Stack</span> { <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span>); };  <span style="color:#75715e">// ç±»å†…æˆå‘˜å‡½æ•°ä¸éœ€é‡ç”³ template
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>  <span style="color:#75715e">// åœ¨ç±»å¤–çš„æˆå‘˜å‡½æ•°å¿…é¡»å†å†™ä¸€æ¬¡ template
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> Stack<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>push(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) { <span style="color:#75715e">/*...*/</span> }
</span></span></code></pre></div></br>
</br>
<h2 id="å…¸å‹æˆå‘˜å‡½æ•°">å…¸å‹æˆå‘˜å‡½æ•°</h2>
<h3 id="åœ¨ç»“ç‚¹-p-ä¹‹åæ’å…¥-data">åœ¨ç»“ç‚¹ p ä¹‹åæ’å…¥ data</h3>
<p><img src="https://i.postimg.cc/j5pwmBh9/jie-ping2025-11-21-14-43-49.png" alt=""></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> List<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>insert(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> data, Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> p) {
</span></span><span style="display:flex;"><span><span style="color:#75715e">// p æ˜¯è€èŠ‚ç‚¹çš„å†…å­˜ä½ç½®ï¼ˆæ’åœ¨å“ªï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> newNode <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(data, p<span style="color:#f92672">-&gt;</span>next);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æ­¤åˆ» æ–°èŠ‚ç‚¹çš„ next è¢«åˆå§‹åŒ–ä¸ºâ€œæ’å…¥å‰ p çš„ next æŒ‡é’ˆçš„åŸæœ¬å€¼â€ã€‚å¦‚æœæ–°èŠ‚ç‚¹æ’åœ¨ pã€q é—´ï¼Œé‚£ä¹ˆ newNode-&gt;next æŒ‡å‘ qï¼›å¦‚æœ p ååŸæœ¬æ²¡æœ‰èŠ‚ç‚¹ï¼Œå°±æŒ‡å‘ nullptr
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> newNode;  <span style="color:#75715e">// å°†è€èŠ‚ç‚¹çš„ next æ”¹æŒ‡å‘è¿™ä¸ªæ–°èŠ‚ç‚¹ï¼Œå®Œæˆæ’å…¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>é“¾è¡¨çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹ (å®é™…ä¸­èŠ‚ç‚¹éƒ½æ˜¯ç›´æ¥æŒ‡é’ˆä¼ å‚ï¼Œ<code>&amp;</code> ä¸ç”¨å†™åœ¨ä»£ç ä¸­)ï¼š</p>
<p><code>&lt;å¤´&gt; DH(null, &amp;N1)â†’N1(e1, &amp;N2)â†’N2(e2, nullptr) &lt;å°¾&gt;</code></p>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>â€œæ–°å»ºâ€å’Œâ€œæ”¹æŒ‡â€ä¸¤è¡Œé¡ºåºä¸èƒ½åï¼Œå¦åˆ™ä¼šé“¾è¡¨ä¼šæ–­ï¼Œä½†æ˜¯ä¸¤è¡Œå¯ä»¥<strong>åˆå¹¶</strong>æˆï¼š<code>p-&gt;next = new Node&lt;T&gt;(data, p-&gt;next);</code>ã€‚è¿™æ˜¯å› ä¸º<strong>èµ‹å€¼ç¬¦å·ä¼˜å…ˆçº§è¾ƒä½</strong>ï¼Œå³è¾¹çš„è¿ç®—ä¼šå…ˆè¿›è¡Œï¼Œæ‰€ä»¥ new å»åˆ°çš„ p-&gt;next æ˜¯è€çš„å€¼ã€‚</li>
<li><code>dummyHead</code> ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ’å…¥å‡½æ•°</li>
<li>éœ€ä¿è¯ <code>p != nullptr</code> ä¸” p å±äºè¿™æ¡é“¾è¡¨</li>
<li>ç”¨äº†è£¸æŒ‡é’ˆ + newï¼Œåˆ«å¿˜è®°åœ¨ List <strong>ææ„å‡½æ•°éå† delete</strong> æ‰€æœ‰ç»“ç‚¹</li>
</ol>
</br>
<h3 id="æŸ¥æ‰¾å€¼ä¸º-data-çš„èŠ‚ç‚¹çš„æŒ‡é’ˆ">æŸ¥æ‰¾å€¼ä¸º data çš„èŠ‚ç‚¹(çš„æŒ‡é’ˆ)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> List<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>find(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> data) {
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> p <span style="color:#f92672">=</span> first();  <span style="color:#75715e">// æŒ‡å‘ dummyHead åçš„ç¬¬ä¸€ä¸ªå®èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (p) {  <span style="color:#75715e">// éå†ï¼Œç›´åˆ° nullptr (ç­‰ä»·äº false) æ–­å¼€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (p<span style="color:#f92672">-&gt;</span>element <span style="color:#f92672">==</span> data) <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>next;  <span style="color:#75715e">// æ”¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nullptr</span>;  <span style="color:#75715e">// æ²¡æ‰¾åˆ°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></br>
<h3 id="åˆ é™¤å€¼ä¸º-data-çš„èŠ‚ç‚¹å…ˆéœ€è¦å…ˆæ‰¾åˆ°å‰é©±ç»“ç‚¹">åˆ é™¤å€¼ä¸º data çš„èŠ‚ç‚¹ï¼Œå…ˆéœ€è¦å…ˆæ‰¾åˆ°<strong>å‰é©±ç»“ç‚¹</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> List<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>findPrevious(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> data) {  <span style="color:#75715e">// æ‰¾å‰ä¸€é¡¹æ‰èƒ½å¾—åˆ°æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> p <span style="color:#f92672">=</span> zeroth();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (p<span style="color:#f92672">-&gt;</span>next) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (p<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>element <span style="color:#f92672">==</span> data) <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// â€œå½“å‰é¡¹æŒ‡å‘ä¸‹ä¸€é¡¹çš„æŒ‡é’ˆâ€è®¿é—®ä¸‹ä¸€é¡¹çš„æ•°æ®ï¼Œç¬¦åˆå°±ä¼ å›è¿™ä¸ªâ€œæŒ‡å‘ä¸‹ä¸€é¡¹çš„æŒ‡é’ˆâ€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nullptr</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> List<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>remove(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> data) {
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> p <span style="color:#f92672">=</span> findPrevious(data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (p) {  <span style="color:#75715e">// ä¹‹å‰æ²¡æ‰¾åˆ° data å°±ä¸ä¼šåˆ ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºæŒ‡é’ˆä¸ºç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;*</span> tmp <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>next;  <span style="color:#75715e">// æŒ‡å‘ data å†åé¢ä¸€é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        p<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>next;  <span style="color:#75715e">// å‰ä¸€é¡¹è·³è¿‡ data æŒ‡å‘å†åé¢ä¸€é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">delete</span> tmp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æ³¨æ„ï¼šå…¶å®å¹¶æ²¡æœ‰â€œåˆ é™¤â€æ•°æ®æœ¬èº«ï¼Œåªæ˜¯å°†ç›¸é‚»é¡¹æŒ‡é’ˆè¿èµ·æ¥ï¼ŒæŠŠè¿™ä¸€é¡¹ç§»å‡ºé“¾è¡¨è€Œå·²</p>
<p>åŒæ—¶è¦å®ç°ï¼š</p>
<ul>
<li>ææ„å‡½æ•° ~List()ï¼šä» <code>zeroth()</code> å¼€å§‹åˆ é™¤æ‰€æœ‰èŠ‚ç‚¹</li>
<li>æ‹·è´æ„é€ ã€èµ‹å€¼è¿ç®—ç¬¦ï¼š<strong>æ·±æ‹·è´</strong>æ¯ä¸ªç»“ç‚¹ï¼Œä¸èƒ½åªæ‹·è´æŒ‡é’ˆ</li>
</ul>
</br>
</br>
<h2 id="å’Œæ•°ç»„çš„å¯¹æ¯”å¤æ‚åº¦">å’Œæ•°ç»„çš„å¯¹æ¯”å¤æ‚åº¦</h2>
<p>æ•°ç»„ï¼š</p>
<ul>
<li>è®¿é—® <code>a[i]</code>ï¼šO(1)</li>
<li>å¤´æ’ã€å¤´åˆ ï¼šO(n)ï¼ˆéœ€è¦æ•´ä½“ç§»åŠ¨ï¼‰</li>
</ul>
<p>å•é“¾è¡¨ï¼š</p>
<ul>
<li>é¡ºåºè®¿é—®ç¬¬ k ä¸ªï¼šO(k)</li>
<li>å·²çŸ¥æŒ‡é’ˆ p çš„å‰æä¸‹ï¼Œåœ¨ p åæ’å…¥ / åˆ é™¤ï¼šO(1)</li>
</ul>
<p>å…¸å‹è€ƒç‚¹ï¼š<strong>ä»€ä¹ˆæ—¶å€™ç”¨æ•°ç»„ï¼Œä»€ä¹ˆæ—¶å€™ç”¨é“¾è¡¨ï¼Ÿ</strong></p>
<ul>
<li>éœ€è¦å¤§é‡éšæœºè®¿é—® â†’ æ•°ç»„ / vector</li>
<li>ç»å¸¸åœ¨ä¸­é—´æ’å…¥/åˆ é™¤ï¼Œé•¿åº¦ä¸ç¡®å®š â†’ é“¾è¡¨</li>
</ul>
</br>
</br>
<h2 id="æ³¨æ„ç‚¹">æ³¨æ„ç‚¹</h2>
<ol>
<li>æ’å…¥/åˆ é™¤é¡ºåºï¼š<strong>å…ˆæ¥å†æ–­</strong>æˆ–è€…<strong>å…ˆæ¥å†åˆ </strong>ï¼Œå¦åˆ™ä¼šä¸¢é“¾</li>
<li><strong>å¸¦ dummy head çš„ç‰ˆæœ¬</strong> vs ä¸å¸¦ç‰ˆæœ¬çš„å·®å¼‚</li>
<li><strong>æ·±æ‹·è´/ææ„</strong>ï¼šé¿å…å†…å­˜æ³„æ¼ä¸æµ…æ‹·è´é—®é¢˜</li>
</ol>
</br>
<hr>
</br>
</br>
<h1 id="äºŒæ ˆ-stacklifoæ•°ç»„--é“¾è¡¨ç‰ˆ">äºŒã€æ ˆ Stackï¼šLIFOã€æ•°ç»„ &amp; é“¾è¡¨ç‰ˆ</h1>
</br>
<h2 id="æŠ½è±¡å®šä¹‰-1">æŠ½è±¡å®šä¹‰</h2>
<ul>
<li>æ¥å£ï¼špush(x), pop(), peek(), isEmpty()</li>
<li>ç‰¹æ€§ï¼šåè¿›å…ˆå‡º (LIFO)ã€‚ç±»ä¼¼äºç‰Œå †ï¼Œåæ”¾ä¸Šå»çš„å…ˆè¢«æŠ½èµ°ã€‚åªæœ‰å•å‘æ“ä½œ (åœ¨æ ˆé¡¶)ã€‚æ‰€æœ‰åŸºæœ¬æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚</li>
</ul>
</br>
</br>
<h2 id="æ ˆç±»çš„ç»“æ„æ¨¡æ¿">æ ˆç±»çš„ç»“æ„æ¨¡æ¿</h2>
<ul>
<li>å¤´æ–‡ä»¶ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Stack</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Stack();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x);
</span></span><span style="display:flex;"><span>    T<span style="color:#f92672">&amp;</span> pop();   <span style="color:#75715e">// åˆ é™¤å¹¶è¿”å›æ ˆé¡¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    T<span style="color:#f92672">&amp;</span> peak();  <span style="color:#75715e">// åªè¯»æ ˆé¡¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span></code></pre></div></br>
</br>
<h2 id="æ•°ç»„å®ç°-é¡ºåºæ ˆ">æ•°ç»„å®ç° (é¡ºåºæ ˆ)</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX_STACK <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>;  <span style="color:#75715e">// å›ºå®šå®¹é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Stack</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    T items[MAX_STACK];  <span style="color:#75715e">// â€œæ•°ç»„â€æ ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> top;  <span style="color:#75715e">// top == å½“å‰å ç”¨ä½æ•° == ä¸‹æ¬¡æ’å…¥ä½ç½®(å½“å‰æ ˆé¡¶ä»¥ä¸Šä¸€é¡¹)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Stack() <span style="color:#f92672">:</span> top(<span style="color:#ae81ff">0</span>) {}  <span style="color:#75715e">// åˆå§‹åŒ–ï¼štop=0ï¼Œæ•°ç»„ä¸ºç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> top <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (top <span style="color:#f92672">&gt;=</span> MAX_STACK)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> StackException(<span style="color:#e6db74">&#34;stack full&#34;</span>);
</span></span><span style="display:flex;"><span>        items[top<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> x;  <span style="color:#75715e">// å…ˆå†™å…¥ï¼Œå†æŠŠ top åŠ  1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    T<span style="color:#f92672">&amp;</span> pop() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEmpty())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> StackException(<span style="color:#e6db74">&#34;stack empty&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> items[<span style="color:#f92672">--</span>top];
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å…ˆå°† top-1 ï¼Œç„¶åè¿”å›è¿™ä¸ªå€¼(é¡¶é¡¹å€¼)ã€‚ä¸‹ä¸€æ¬¡push ä¼šå ç”¨ top-1ï¼Œç›–æ‰è¿™ä¸ªåŸæœ¬çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> peek() {  <span style="color:#75715e">// ä¸èƒ½æ”¹å˜æ ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (isEmpty())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> StackException(<span style="color:#e6db74">&#34;stack empty&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> items[top <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];  <span style="color:#75715e">// è¿”å›é¡¶é¡¹æŒ‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>æ•°ç»„æ ˆä»åº•åˆ°é¡¶çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><code>&lt;åº•&gt; [i_0, i_1,......, i_n] &lt;é¡¶&gt;,   top=n+1</code></p>
<ul>
<li>é—®é¢˜ï¼š<strong>å®¹é‡å›ºå®š</strong>ï¼Œå¯èƒ½æº¢å‡ºï¼›å¯ä»¥æ”¹ç”¨åŠ¨æ€æ•°ç»„ <code>std::vector</code>ï¼ˆ<code>new T[capacity]</code> å¹¶åœ¨æ»¡æ—¶æ‰©å®¹ï¼‰</li>
<li>å¤ä¹ ï¼š<code>++x</code> å…ˆè‡ªå¢åè°ƒç”¨ï¼›<code>x++</code> å…ˆè°ƒç”¨åè‡ªå¢</li>
</ul>
</br>
</br>
<h2 id="é“¾è¡¨å®ç°-é“¾æ ˆ">é“¾è¡¨å®ç° (é“¾æ ˆ)</h2>
<p>éœ€è¦å®ç°ï¼šæŒ‡å‘æ ˆé¡¶çš„æˆå‘˜æŒ‡é’ˆå˜é‡ topPtrã€next æŒ‡é’ˆæŒ‡å‘æ—§èŠ‚ç‚¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StackNode</span> {  <span style="color:#75715e">// èŠ‚ç‚¹ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    T item;
</span></span><span style="display:flex;"><span>    StackNode <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>    StackNode(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> e <span style="color:#f92672">=</span> T(), StackNode<span style="color:#f92672">*</span> n <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> item(e), next(n) {}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Stack</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    StackNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>topPtr;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Stack() <span style="color:#f92672">:</span> topPtr(<span style="color:#66d9ef">nullptr</span>) {}  <span style="color:#75715e">// åˆå§‹åŒ–ï¼štopPtræŒ‡å‘ç©ºï¼Œé“¾è¡¨ä¸ºç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> topPtr <span style="color:#f92672">==</span> <span style="color:#66d9ef">nullptr</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> <span style="color:#f92672">*</span>newPtr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StackNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(x, topPtr);  <span style="color:#75715e">// è‡ªåŠ¨æ¨å¯¼æŒ‡é’ˆç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        topPtr <span style="color:#f92672">=</span> newPtr;  <span style="color:#75715e">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¼šæŒ‡å‘ç°åœ¨çš„èŠ‚ç‚¹ï¼šåè¿›å…ˆå‡º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> peek() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEmpty()) <span style="color:#66d9ef">throw</span> StackException(<span style="color:#e6db74">&#34;empty&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> topPtr<span style="color:#f92672">-&gt;</span>item;
</span></span><span style="display:flex;"><span>    } 
</span></span><span style="display:flex;"><span>    T<span style="color:#f92672">&amp;</span> pop() {
</span></span><span style="display:flex;"><span>        T<span style="color:#f92672">&amp;</span> stackTop <span style="color:#f92672">=</span> T();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>isEmpty()) {
</span></span><span style="display:flex;"><span>	        stackTop <span style="color:#f92672">=</span> topPtr<span style="color:#f92672">-&gt;</span>item;
</span></span><span style="display:flex;"><span>	        StackNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>tmp <span style="color:#f92672">=</span> topPtr;
</span></span><span style="display:flex;"><span>	        topPtr <span style="color:#f92672">=</span> topPtr<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>	        <span style="color:#66d9ef">delete</span> tmp;  <span style="color:#75715e">// å°†é¡¶é¡¹çš„æŒ‡é’ˆç§»å‡ºäº†é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	    }
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> stackTop;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>
<p>é“¾æ ˆç±»ä¼¼äºä¸€ä¸ªåè¿‡æ¥çš„é“¾è¡¨ï¼Œnext æŒ‡é’ˆæœå‘è€èŠ‚ç‚¹ï¼Œä»åº•åˆ°é¡¶ç»“æ„å¦‚ä¸‹ (N ä»£è¡¨ StackNode)ï¼š</p>
<p><code>&lt;åº•&gt; N1(nullptr, i1)â†N2(&amp;N1, i2)â†N3(&amp;N2, i3)â†N4(&amp;N3, i4)â†...</code></p>
</li>
</ul>
<p><img src="https://i.postimg.cc/dQGRj0Ww/jie-ping2025-11-21-13-44-51.png" alt=""></p>
</br>
</br>
<h2 id="æ³¨æ„ç‚¹-1">æ³¨æ„ç‚¹</h2>
<p>æ ˆä¸€èˆ¬ç”¨äºï¼š</p>
<ul>
<li><strong>æ‹¬å·</strong>/HTML æ ‡ç­¾åŒ¹é…ã€<strong>è¡¨è¾¾å¼æ±‚å€¼</strong>ï¼ˆè¿ç®—ç¬¦æ ˆã€æ“ä½œæ•°æ ˆï¼‰</li>
<li><strong>å›æº¯</strong>ç®—æ³•ï¼ˆæ•°ç‹¬ã€å…¨æ’åˆ—ã€è·¯å¾„æœç´¢ä¸­çš„çŠ¶æ€å›é€€ï¼‰
è¿™äº›æ’¤é”€ã€åæ¨ç±»é—®é¢˜ã€‚</li>
</ul>
</br>
<hr>
</br>
</br>
<h1 id="ä¸‰é˜Ÿåˆ—-queuefifoå¾ªç¯æ•°ç»„--é“¾è¡¨ç‰ˆ">ä¸‰ã€é˜Ÿåˆ— Queueï¼šFIFOã€å¾ªç¯æ•°ç»„ &amp; é“¾è¡¨ç‰ˆ</h1>
</br>
<h2 id="æŠ½è±¡å®šä¹‰-2">æŠ½è±¡å®šä¹‰</h2>
<ul>
<li>æ¥å£ï¼šenqueue(x) å…¥é˜Ÿ (ä»å°¾éƒ¨)ã€dequeue() å‡ºé˜Ÿ (ä»å¤´éƒ¨)ã€getFront() æŸ¥çœ‹é˜Ÿå¤´ã€isEmpty()ã€‚</li>
<li>ç‰¹æ€§ï¼šå…ˆè¿›å…ˆå‡º FIFOã€‚ç±»ä¼¼äºæ°´ç®¡ï¼Œå…ˆæµå…¥çš„ä¹Ÿå…ˆæµå‡ºã€‚å¸¸ç”¨äºæ’é˜Ÿã€ä»»åŠ¡è°ƒåº¦ã€ç¼“å†²åŒºã€‚å’Œæ ˆçš„æ˜æ˜¾åŒºåˆ«æ˜¯ï¼šé¦–å°¾åŒå‘æ“ä½œã€‚å’Œæ ˆçš„ç›¸åŒç‚¹ï¼šåŸºæœ¬æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚</li>
</ul>
</br>
</br>
<h2 id="é“¾è¡¨å®ç°-å¸¦-frontback-æŒ‡é’ˆ">é“¾è¡¨å®ç° (å¸¦ front/back æŒ‡é’ˆ)</h2>
<p>éœ€è¦å®ç°ï¼šæŒ‡å‘é¦–å°¾é¡¹çš„æˆå‘˜æŒ‡é’ˆå˜é‡â€”â€”ç”¨äºæ’å…¥å’Œè¸¢å‡ºã€next æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">QueueNode</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    T item;
</span></span><span style="display:flex;"><span>    QueueNode <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>    QueueNode(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> e <span style="color:#f92672">=</span> T(), QueueNode<span style="color:#f92672">*</span> n <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> item(e), next(n) {}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Queue</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    QueueNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>frontPtr;  <span style="color:#75715e">// åŒå‘æ£€ç´¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    QueueNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>backPtr;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Queue() <span style="color:#f92672">:</span> frontPtr(<span style="color:#66d9ef">nullptr</span>), backPtr(<span style="color:#66d9ef">nullptr</span>) {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> frontPtr <span style="color:#f92672">==</span> <span style="color:#66d9ef">nullptr</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span><span style="color:#f92672">*</span> newPtr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> QueueNode<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(x, <span style="color:#66d9ef">nullptr</span>);  <span style="color:#75715e">// æŒ‡å‘æ–°èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (isEmpty()) frontPtr <span style="color:#f92672">=</span> newPtr;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> backPtr<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> newPtr;  <span style="color:#75715e">// åŸæœ¬é˜Ÿå°¾çš„ next æŒ‡å‘æ–°èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        backPtr <span style="color:#f92672">=</span> newPtr;  <span style="color:#75715e">// é˜Ÿå°¾å˜æˆè¿™ä¸ªæ–°èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dequeue</span>() {
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">if</span> (isEmpty()) <span style="color:#66d9ef">throw</span> QueueException(<span style="color:#e6db74">&#34;empty&#34;</span>);
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">auto</span><span style="color:#f92672">*</span> old <span style="color:#f92672">=</span> frontPtr;              <span style="color:#75715e">// æ—§é˜Ÿå¤´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	    frontPtr <span style="color:#f92672">=</span> frontPtr<span style="color:#f92672">-&gt;</span>next;         <span style="color:#75715e">// å‰ç§»æŒ‡é’ˆï¼Œå°†æ—§é˜Ÿå¤´ç§»å‡ºé˜Ÿåˆ—èŒƒå›´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>frontPtr) backPtr <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>;  <span style="color:#75715e">// è‹¥é˜Ÿåˆ—è¢«åˆ ç©ºï¼ŒæŠŠå°¾æŒ‡é’ˆä¹Ÿç½®ç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	    <span style="color:#66d9ef">delete</span> old;                        <span style="color:#75715e">// é‡Šæ”¾æ—§é˜Ÿå¤´
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">getFront</span>(T<span style="color:#f92672">&amp;</span> x) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEmpty()) <span style="color:#66d9ef">throw</span> QueueException(<span style="color:#e6db74">&#34;empty&#34;</span>);
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> frontPtr<span style="color:#f92672">-&gt;</span>item;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>
<p>æ‰€æœ‰åŸºæœ¬æ“ä½œéƒ½ O(1)ï¼Œä¸æ ˆç±»ä¼¼ã€‚</p>
</li>
<li>
<p>é“¾é˜Ÿåˆ—å’Œé“¾æ ˆä¸åŒï¼Œæ˜¯æ­£å‘çš„é“¾è¡¨ï¼Œnext æŒ‡é’ˆæœå‘æ–°èŠ‚ç‚¹ (é˜Ÿå°¾)ï¼Œä»å¤´åˆ°å°¾ç»“æ„å¦‚ä¸‹ (N ä»£è¡¨ QueueNode)ï¼š</p>
<p><code>&lt;å¤´&gt; N1(&amp;N2, i1)â†’N2(&amp;N3, i2)â†’N3(&amp;N4, i3)â†’N4(nullptr, i4) &lt;å°¾&gt;</code></p>
</li>
</ul>
<p><img src="https://i.postimg.cc/zDTwFfd5/jie-ping2025-11-21-13-46-05.png" alt=""></p>
</br>
</br>
<h2 id="å¾ªç¯æ•°ç»„å®ç°-é¡ºåºé˜Ÿåˆ—">å¾ªç¯æ•°ç»„å®ç° (é¡ºåºé˜Ÿåˆ—)</h2>
<p>éœ€è¦å®ç°ï¼šæœ‰é™æ•°ç»„é¦–å°¾ç›¸è¿æˆç¯ï¼Œå³ä½¿æ•°ç»„å®¹é‡å›ºå®šä¹Ÿæ°¸è¿œ<strong>ä¸ä¼šæº¢å‡º</strong>ï¼Œè¿™æ ·åˆ é™¤é˜Ÿé¦–æ—¶å°±æ— éœ€æ•´ä½“å‰ç§»ä¸€ä½ï¼Œè€Œæ˜¯åœ¨è¶…å‡ºç´¢å¼•èŒƒå›´å<strong>ç»•å› 0(æ•°ç»„å¼€å¤´)</strong>ã€‚è¿™ç§æ•°ç»„çš„<strong>é¦–é¡¹ä½ç½®æ˜¯ä¸å›ºå®š</strong>çš„ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://i.postimg.cc/xd4r551N/jie-ping2025-11-21-13-53-10.png" alt=""></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> MAX_QUEUE <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Queue</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    T items[MAX_QUEUE];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> front;  <span style="color:#75715e">// é˜Ÿå¤´ä¸‹æ ‡ï¼Œæ³¨æ„ä¸ä¸€å®šæ˜¯ 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> back;   <span style="color:#75715e">// é˜Ÿå°¾ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> count;  <span style="color:#75715e">// å½“å‰å…ƒç´ æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Queue() <span style="color:#f92672">:</span> front(<span style="color:#ae81ff">0</span>), back(MAX_QUEUE<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), count(<span style="color:#ae81ff">0</span>) {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isEmpty</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> count <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count <span style="color:#f92672">==</span> MAX_QUEUE) <span style="color:#66d9ef">throw</span> QueueException(<span style="color:#e6db74">&#34;full&#34;</span>);
</span></span><span style="display:flex;"><span>        back <span style="color:#f92672">=</span> (back <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> MAX_QUEUE;  <span style="color:#75715e">// *æ ¸å¿ƒé€»è¾‘*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// back ä¸€æ—¦è¶…å‡º MAX_QUEUE å°±ä» 0 å¼€å§‹å›å¡«ï¼Œä¿è¯ç´¢å¼•ä¸æº¢å‡º (ä¸Šä¸€è¡Œçš„ throw Exception ç¡®ä¿è¿™ç§â€œå›å¡«â€ç»å¯¹ä¸ä¼šè¦†ç›–æ‰ frontï¼Œå› ä¸ºè¶…å‡º MAX_QUEUE äº†)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        items[back] <span style="color:#f92672">=</span> x;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>count;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dequeue</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEmpty())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> QueueException(<span style="color:#e6db74">&#34;empty&#34;</span>);
</span></span><span style="display:flex;"><span>        front <span style="color:#f92672">=</span> (front <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> MAX_QUEUE;  <span style="color:#75715e">// åŒç†ï¼Œé˜²æ­¢ç´¢å¼•å‘è´Ÿæ•°æº¢å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">--</span>count;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    T<span style="color:#f92672">&amp;</span> getFront() <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isEmpty())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> QueueException(<span style="color:#e6db74">&#34;empty&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> items[front];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>æ³¨æ„ï¼šå¯¹äºä¸€ä¸ªé•¿åº¦ 1000 çš„æ•°ç»„ï¼Œç´¢å¼•åœ¨ 0ï½999 èŒƒå›´ã€‚å› ä¸º dequeue æ—¶æ•°ç»„é¦–é¡¹è¢«ç§»å‡ºé˜Ÿåˆ—èŒƒå›´ (è¿˜åœ¨æ•°ç»„ä¸­)ï¼Œä¸ºäº†é˜²æ­¢ enqueue åˆ° 1000 æ—¶ç´¢å¼•æº¢å‡ºï¼Œç”¨<strong>æ±‚ä½™</strong> <code>MAX_QUEUE</code> å®ç°â€œ<strong>å¾ªç¯æ•°ç»„</strong>â€ï¼Œå³æ•°ç»„é¦–å°¾æˆç¯ï¼š1000â‰¡0ã€1001â‰¡1 â€¦ã€‚è¿™æ ·å°±æ— éœ€ dequeue æ—¶æ‰€æœ‰å…ƒç´ æ•´ä½“å‘å‰ç§»åŠ¨ã€‚æ‰€ä»¥è¯´ï¼Œback å®Œå…¨å¯èƒ½åœ¨ front ä¹‹å‰ã€‚</p>
</br>
</br>
<h2 id="æ³¨æ„ç‚¹-2">æ³¨æ„ç‚¹</h2>
<ol>
<li><strong>å¾ªç¯æ•°ç»„ä¸‹æ ‡æ›´æ–°å…¬å¼</strong>ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>   back <span style="color:#f92672">=</span> (back <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> MAX_QUEUE; <span style="color:#f92672">++</span>count;    <span style="color:#75715e">//  enqueue æ‰©å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   front <span style="color:#f92672">=</span> (front <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> MAX_QUEUE; <span style="color:#f92672">--</span>count;  <span style="color:#75715e">// dequeue å‡å®¹
</span></span></span></code></pre></div><ol start="2">
<li>
<p>é“¾è¡¨ vs æ•°ç»„é˜Ÿåˆ—çš„æ¯”è¾ƒï¼š</p>
<p>é“¾è¡¨ä¸éœ€è¦å›ºå®šå®¹é‡ï¼›</p>
<p>æ•°ç»„å®ç°éœ€å¤„ç†ã€Œæ»¡ vs ç©ºã€åŒºåˆ†é—®é¢˜ï¼Œä½†å¸¸æ•°å› å­å°ã€‚</p>
</li>
<li>
<p>é˜Ÿåˆ—ä¸€èˆ¬ç”¨äºï¼šæ“ä½œç³»ç»Ÿä»»åŠ¡é˜Ÿåˆ—ã€ç½‘ç»œåŒ…ç¼“å†²é˜Ÿåˆ—ã€æ‰“å°é˜Ÿåˆ—ç­‰ã€‚</p>
</li>
</ol>
</br>
<hr>
</br>
</br>
<h1 id="å››æ˜ å°„-mapé”®å€¼å¯¹å“ˆå¸Œå‡½æ•°ä¸æ¡¶">å››ã€æ˜ å°„ Mapï¼šé”®å€¼å¯¹ã€å“ˆå¸Œå‡½æ•°ä¸æ¡¶</h1>
</br>
<h2 id="æŠ½è±¡å®šä¹‰-3">æŠ½è±¡å®šä¹‰</h2>
<ul>
<li>Map (å­—å…¸ç±») ç»´æŠ¤ä¸€ç»„ (key, value) é”®å€¼å¯¹ã€‚ç±»ä¼¼äºæ•°å­¦ä¸­çš„å‡½æ•°æ˜ å°„ï¼Œä¸¤ç»„å…ƒç´ å¿…é¡»æœ‰æŸç§æ˜ å°„å…³ç³»ï¼Œ<strong>ä¸ä¸€å®šæ»¡è¶³åŒå°„</strong> (é”®å€¼å¯¹å®Œç¾ä¸€ä¸€å¯¹åº”)ã€‚</li>
<li>å…¸å‹æ“ä½œï¼šæ“ä½œç¬¦ <code>operator[]</code>ï¼šæ—¢å¯æ’å…¥ä¹Ÿå¯æŸ¥æ‰¾ï¼›<code>put(key, value)</code>ï¼šæ’å…¥æˆ–æ›´æ–°ï¼›<code>get(key)</code>ï¼šæ ¹æ® key æŸ¥ valueï¼›<code>containsKey(key)</code>ï¼›<code>remove(key)</code>ï¼›<code>size()</code> / <code>isEmpty()</code>ã€‚</li>
</ul>
<p>åœ¨æ ‡å‡† C++ åº“ä¸­å·²ç»å­˜åœ¨ä¸¤ç§å®ç°æ–¹æ³•ï¼š</p>
<ul>
<li>std::map&lt;K,V&gt;ï¼šåŸºäºå¹³è¡¡ BST çº¢é»‘æ ‘ï¼Œæœ‰åºï¼›O(log n)ã€‚</li>
<li>std::unordered_map&lt;K,V&gt;ï¼šåŸºäºHashMap å“ˆå¸Œè¡¨ï¼Œæ— åºï¼›å¹³å‡ O(1)ã€‚</li>
</ul>
</br>
</br>
<h2 id="å‘é‡-åŠ¨æ€æ•°ç»„-å®ç°çº¿æ€§æŸ¥æ‰¾--äºŒåˆ†æŸ¥æ‰¾">å‘é‡ (åŠ¨æ€æ•°ç»„) å®ç°ï¼šçº¿æ€§æŸ¥æ‰¾ / äºŒåˆ†æŸ¥æ‰¾</h2>
<p>ç®€å•åœ°å®ç° string â†’ string æ˜ å°„å­—å…¸ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">KeyValuePair</span> {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string key;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string value;  <span style="color:#75715e">// é”®å€¼å¯¹ {key, value}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StringMap</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    StringMap() {}
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>StringMap() {}
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æ„é€ /ææ„éƒ½æ²¡è‡ªå®šä¹‰é€»è¾‘ï¼Œvector ç±»ä¼šè‡ªå·±ç®¡ç†å…ƒç´ ç”Ÿå‘½å‘¨æœŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    std<span style="color:#f92672">::</span>string get(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string<span style="color:#f92672">&amp;</span> key) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> findKey(key);  <span style="color:#75715e">// è§ private åŸŸï¼Œè·å–ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> (index <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">:</span> bindings[index].value;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// æ‰¾ä¸åˆ°åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">put</span>(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string<span style="color:#f92672">&amp;</span> key, <span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string<span style="color:#f92672">&amp;</span> value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> findKey(key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (index <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {  <span style="color:#75715e">//  å¦‚æœå½“å‰ä¸å­˜åœ¨è¿™ä¸ª key
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            KeyValuePair kv{key, value};
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// è¿™æ˜¯ä¸€ä¸ªåœ¨ç¬¬ä¸€è¡Œå£°æ˜çš„é”®å€¼å¯¹å®ä¾‹ï¼Œè¢«æ‰“åŒ…å¡è¿› bindings
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            bindings.push_back(kv);  <span style="color:#75715e">// vector ç±»çš„æˆå‘˜æ–¹æ³•ï¼ˆæ’å…¥ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            bindings[index].value <span style="color:#f92672">=</span> value;  <span style="color:#75715e">// å­˜åœ¨å°±è¦†ç›–åŸæœ¬çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>KeyValuePair<span style="color:#f92672">&gt;</span> bindings;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ç”¨åŠ¨æ€æ•°ç»„ bindings å­˜å‚¨é”®å€¼å¯¹ {key, value}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">findKey</span>(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string<span style="color:#f92672">&amp;</span> k) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> (<span style="color:#66d9ef">int</span>)bindings.size(); <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (bindings[i].key <span style="color:#f92672">==</span> k) <span style="color:#66d9ef">return</span> i;  <span style="color:#75715e">// éå†è¿”å›å¯¹åº”ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// æ‰¾ä¸åˆ°ï¼Œè¿”å›å¼‚å¸¸çŠ¶æ€ç 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul>
<li>
<p><code>std::vector</code> æœ¬è´¨æ˜¯åŠ¨æ€æ•°ç»„ï¼Œç”¨ <code>.size()</code> çœ‹å¤§å°ï¼›ç”¨ <code>.push_back(e)</code> æœ«å°¾æ’å…¥å…ƒç´  eï¼›ç”¨ <code>.value</code> / <code>.key</code> åˆ†åˆ«è®¿é—®é”®å’Œå€¼</p>
</li>
<li>
<p>bindings åŠ¨æ€æ•°ç»„ä¸­å­˜å‚¨ä¿¡æ¯çš„ç»“æ„ï¼š</p>
<p><code>std::vector [{key1, value1}, {key2, value2}, ... , {é”®å€¼å¯¹}]</code></p>
</li>
<li>
<p>è¿™ä¸ªå®ç°<strong>æ— æ³•æ»¡å°„</strong>ï¼Œå› ä¸º bindings ä¸­ <strong>key æ— æ³•é‡å¤</strong>ï¼Œå°±ä¸èƒ½åŒä¸ª key å¯¹åº”å¤šä¸ª valueï¼›put() ç»™ å·²çŸ¥çš„ key æ–° value æ—¶ä¼šç›´æ¥è¦†ç›–å°± value</p>
</li>
<li>
<p>è¿™ä¸ªå®ç°<strong>å¯ä»¥å•å°„</strong>ï¼Œå› ä¸ºä¸åŒ key å¯ä»¥æœ‰ç›¸åŒ value (<strong>value å¯ä»¥é‡å¤</strong>)</p>
</li>
<li>
<p>è¿™æ®µä»£ç çš„æŸ¥æ‰¾/æ’å…¥éƒ½æ˜¯ O(n)ï¼Œæå…¶ä½æ•ˆï¼Œä»…ç”¨äºæ¼”ç¤º</p>
</li>
<li>
<p>å¤ä¹ ï¼šä¸Šè¿°ä»£ç ä¸­å‡ºç°äº†ç”¨äºåˆ†æƒ…å†µå¤„ç†çš„â€œ<strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong>â€</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">return</span> (index <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">:</span> bindings[index].value;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ ¸å¿ƒç»“æ„ï¼š&lt;cond ? expr1 : expr2&gt;ï¼Œé€»è¾‘ï¼šcond çœŸå°±ä¼ å› expr1ï¼›å‡å°±ä¼ å› expr2
</span></span></span></code></pre></div></br>
</br>
<h2 id="å“ˆå¸Œè¡¨-unordered_map-å®ç°">å“ˆå¸Œè¡¨ (unordered_map) å®ç°</h2>
<p>å“ˆå¸Œè¡¨æ˜¯ä¸€ä¸ª std åº“ä¸­ç”¨ â€œå“ˆå¸Œå‡½æ•°â€ å®ç°æ˜ å°„çš„æ–¹æ³•</p>
<p>å…³é”®æ€æƒ³ï¼š</p>
<ol>
<li>æ ¸å¿ƒæ˜¯<strong>å“ˆå¸Œå‡½æ•° hashCode(key)</strong>ï¼šæŠŠ key æ˜ å°„ä¸ºéè´Ÿæ•´æ•°ï¼›å–ä½™å¾—åˆ°å®ƒå±äºçš„æ¡¶ä¸‹æ ‡ï¼š<code>index = hashCode(key) % nBuckets;</code>ï¼Œå¦‚æœå“ˆå¸Œå‡½æ•°ä¸ä¼˜è´¨ä¼šå¯¼è‡´å“ˆå¸Œè¡¨é€€åŒ–ã€‚</li>
<li><strong>æ¡¶</strong>ï¼šå¯ä»¥ç†è§£ä¸º â€œä¸€ä¸ªæ§½ä½ + æŒ‡å‘è¯¥æ¡¶ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆâ€ ç»„æˆçš„æ•°ç»„</li>
<li><strong>é“¾è¡¨</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹ä¿å­˜ {key, value, next}ï¼›åŒä¸€æ¡¶ä¸­çš„èŠ‚ç‚¹é€šè¿‡ next ä¸²èµ·æ¥</li>
<li>æ¯ä¸ªæ¡¶å­˜ä¸€æ¡<strong>é“¾è¡¨</strong>ï¼ˆæˆ– vectorï¼‰æ¥å¤„ç†<strong>å†²çª</strong>ï¼ˆseparate chainingï¼‰</li>
</ol>
<p>å“ˆå¸Œè¡¨çš„ä¸‰ä¸ªéƒ¨ä»¶ï¼š</p>
<ol>
<li>å“ˆå¸Œå‡½æ•° hashCode(key): æŠŠé”®æ˜ æˆä¸€ä¸ª<strong>å°½é‡ä¸ç›¸åŒ</strong>çš„æ•´æ•°ã€‚</li>
<li>æ¡¶æ•°ç»„ (bucket array): å›ºå®šé•¿åº¦ B çš„æ•°ç»„ï¼Œæ¯ä¸ªæ§½ä½å«â€œæ¡¶â€ã€‚</li>
<li><strong>ç¢°æ’å¤„ç†</strong>: ä¸¤ä¸ªä¸åŒé”®è¢«å“ˆå¸Œå‡½æ•°æ˜ åˆ°åŒä¸€æ¡¶æ—¶çš„å¤„ç†ã€‚unordered_map é‡‡ç”¨<strong>åˆ†ç¦»é“¾è¡¨ (separate chaining)</strong>ï¼šæ¯ä¸ªæ¡¶ä¿å­˜ä¸€æ¡å°é“¾è¡¨ã€‚</li>
</ol>
</br>
<p>å“ˆå¸Œè¡¨çš„ç§æœ‰åŸŸï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StringMap</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Cell</span> {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>string key;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>string value;  <span style="color:#75715e">// é”®å€¼å¯¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Cell <span style="color:#f92672">*</span>link;  <span style="color:#75715e">// é“¾æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸ªé”®å€¼å¯¹èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };
</span></span><span style="display:flex;"><span>    Cell <span style="color:#f92672">**</span>buckets;  <span style="color:#75715e">// æŒ‡å‘æ¡¶æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> nBuckets;    <span style="color:#75715e">// æ¡¶ä¸ªæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> count;       <span style="color:#75715e">// å·²å­˜ key æ•°é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Cell<span style="color:#f92672">*</span> <span style="color:#a6e22e">findCell</span>(<span style="color:#66d9ef">int</span> bucket, <span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string<span style="color:#f92672">&amp;</span> key);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>å“ˆå¸Œè¡¨çš„ç»“æ„å¤§è‡´ä¸ºï¼š</p>
<pre tabindex="0"><code>æ¡¶æ•°ç»„ â†’ (é”®, å€¼,  nextæŒ‡é’ˆ)
[0]   â†’  (&#34;AR&#34;, &#34;5&#34;, ptr) â†’ (&#34;AK&#34;, ... ) â†’ null
[1]   â†’  (&#34;AL&#34;, ... ) â†’ null
[2]   â†’  null
...
[nBuckets]   â†’  (&#34;NV&#34;, ... ) â†’ ...
</code></pre></br>
</br>
<h2 id="å“ˆå¸Œè¡¨-stdunordered_map-çš„å®ä¾‹åŒ–">å“ˆå¸Œè¡¨ std::unordered_map çš„å®ä¾‹åŒ–</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unordered_map&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>unordered_map<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> m;  <span style="color:#75715e">// å®ä¾‹åŒ–â€œå­—ç¬¦ä¸²â†’æ•´æ•°â€å“ˆå¸Œè¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    m.reserve(<span style="color:#ae81ff">1024</span>);              <span style="color:#75715e">// é¢„ç•™ 1024 ä¸ªé”®å€¼å¯¹ï¼Œå‡å°‘ rehash é¢‘ç‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    m.max_load_factor(<span style="color:#ae81ff">0.7f</span>);      <span style="color:#75715e">// é™åˆ¶è£…è½½å› å­ï¼Œé™åˆ¶æ¡¶å†…é“¾è¡¨é•¿åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    m.emplace(<span style="color:#e6db74">&#34;alice&#34;</span>, <span style="color:#ae81ff">1</span>);   <span style="color:#75715e">// ç­‰ä»·äº insert({k, v})ï¼Œä¸ä¼šè¦†ç›–å­˜åœ¨çš„é”®å€¼å¯¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    m[<span style="color:#e6db74">&#34;bob&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;  <span style="color:#75715e">// è¿™æ˜¯æ“ä½œç¬¦ï¼šoperator[](k) = vï¼Œä¼šè¦†ç›–å­˜åœ¨çš„é”®å€¼å¯¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">auto</span> it <span style="color:#f92672">=</span> m.find(<span style="color:#e6db74">&#34;alice&#34;</span>); it <span style="color:#f92672">!=</span> m.end())
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> it<span style="color:#f92672">-&gt;</span>first <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; -&gt; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> it<span style="color:#f92672">-&gt;</span>second <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>size_t bc <span style="color:#f92672">=</span> m.bucket_count();
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>size_t b  <span style="color:#f92672">=</span> m.bucket(<span style="color:#e6db74">&#34;alice&#34;</span>);  <span style="color:#75715e">// &#34;alice&#34; é”®è¢«å“ˆå¸Œå‡½æ•°æ”¾åˆ°äº†å“ªä¸ªæ¡¶ï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;bucket_count=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> bc
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;, bucket(alice)=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> b
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;, bucket_size=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> m.bucket_size(b) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å“ˆå¸Œè¡¨-é”®å€¼å¯¹ç»“æ„ï¼š<code>unordered_map&lt;first, second&gt;</code></p>
<p>æ¡¶å¤§å°ä¸æ¡¶æ‰©å®¹ (rehash)ï¼š</p>
<ul>
<li><code>.size()</code> ä»£è¡¨æ‰€æœ‰æ¡¶ä¸­çš„é”®å€¼å¯¹æ•°é‡ï¼›<code>.bucket_size(i)</code> ä»£è¡¨ç¬¬ i ä¸ªæ¡¶çš„é”®å€¼å¯¹æ•°é‡ï¼›<code>.bucket_count()</code> ä»£è¡¨å“ˆå¸Œè¡¨æ•°ç»„ä¸­æ¡¶çš„ä¸ªæ•°ï¼›<code>.reserve(e)</code> ä»£è¡¨é¢„ç•™ e ä¸ªé”®å€¼å¯¹ä½ç½®</li>
<li>è£…è½½å› å­=$\frac{.size()}{.bucketcount()}$ï¼Œå°±æ˜¯<strong>æ¯ä¸ªæ¡¶å¹³å‡è£…äº†å¤šå°‘ä¸ªé”®å€¼å¯¹</strong>ã€‚<code>.max_load_factor()</code> è®¾å®šæœ€å¤§è£…è½½å› å­ï¼Œè¶…è¿‡æ—¶è§¦å‘ <strong>rehash</strong>ï¼šæ‰©å®¹æ¡¶æ•°ç»„ï¼Œé‡æ–°åˆ†é…æ‰€æœ‰ key
<strong>æ— è®ºæ˜¯æ’å…¥è¿˜æ˜¯æŸ¥æ‰¾ï¼Œéƒ½è¦å…ˆç”¨å“ˆå¸Œå‡½æ•°æ¨å¯¼å‡ºå¯¹è±¡åº”è¯¥åœ¨å“ªä¸ª bucket</strong>
æ’å…¥é¡¹ç›®ï¼š</li>
<li>ä¸è¦†ç›–ï¼š<code>emplace(k, v)</code> æˆ– <code>insert({k, v})</code></li>
<li>è¦†ç›–ï¼šç”¨æ“ä½œç¬¦ <code>operator[](k) = v</code> æ¯”å¦‚ <code>map[k]=v</code></li>
<li>æŸ¥æ‰¾é¡¹ç›®ï¼š<code>.find(k)</code> æŒ‰é”®æŸ¥æ‰¾ï¼Œå¹³å‡ O(1)ã€‚è‹¥æ‰¾åˆ°ï¼Œè¿”å›æŒ‡å‘è¯¥å…ƒç´ çš„æŒ‡é’ˆï¼›å¦åˆ™ç­‰äº <code>.end()</code></li>
</ul>
</br>
</br>
<h2 id="map-å®ç°æ–¹å¼å¯¹æ¯”">Map å®ç°æ–¹å¼å¯¹æ¯”</h2>
<ol>
<li><strong>å¹³è¡¡ BST (std::map)</strong>ï¼š(åç»­å†è®²å…·ä½“æ“ä½œ)
<ul>
<li>æœ‰åºï¼ˆå¯ä»¥æŒ‰ key é€’å¢éå†ï¼‰</li>
<li>æ“ä½œå¤æ‚åº¦ï¼šO(log n)</li>
</ul>
</li>
<li><strong>å“ˆå¸Œè¡¨ (std::unordered_map)</strong>ï¼š
<ul>
<li>æ— åºï¼Œè¿­ä»£é¡ºåºä¸ç¨³å®š</li>
<li>å¹³å‡ O(1)ï¼Œæœ€å O(n)ï¼ˆå½“å¤æ‚å› å­è¶…è¿‡ 0.7ï¼Œå‡ºç°å¤§é‡å†²çªï¼‰</li>
<li>å…³é”®æ˜¯ hash å‡½æ•°å¥½åã€è´Ÿè½½å› å­æ§åˆ¶</li>
</ul>
</li>
<li>æ•™å­¦ç”¨çš„ <strong>å‘é‡ + çº¿æ€§/äºŒåˆ†æŸ¥æ‰¾</strong> å®ç°ï¼š
<ul>
<li>æ€§èƒ½ä¸€èˆ¬ï¼ˆO(n)ï¼‰</li>
</ul>
</li>
</ol>
</br>
</br>
<h2 id="æ³¨æ„ç‚¹-3">æ³¨æ„ç‚¹</h2>
<ol>
<li>
<p><strong>ç†è§£å“ˆå¸Œè¡¨çš„ç»“æ„</strong>ï¼š</p>
<p>å“ˆå¸Œå‡½æ•°å°† key æ˜ å°„åˆ° bucket æ•°ç»„çš„æ•´æ•°ä¸‹æ ‡ â†’ åˆ†é…æ¡¶ â†’ è£…å…¥æ¡¶ä¸­çš„é“¾è¡¨</p>
<p>ä¸ºä»€ä¹ˆå†²çªä¸å¯é¿å…ï¼Ÿä¸å®Œç¾çš„å“ˆå¸Œå‡½æ•°å’Œæœ‰é™çš„æ¡¶ï¼Œå¯¼è‡´ä¸åŒ key è¢«æ˜ å°„åˆ°åŒä¸ªæ¡¶</p>
</li>
<li>
<p><strong>è´Ÿè½½å› å­ä¸ rehash</strong>ï¼š</p>
<p>ä¸ºä»€ä¹ˆè´Ÿè½½å› å­å¤§äº†æ€§èƒ½ä¼šæ¶åŒ–ï¼Ÿé“¾è¡¨å˜é•¿ï¼Œå¯¼è‡´æŸ¥æ‰¾/æ’å…¥åŠŸèƒ½é€€åŒ–</p>
<p>rehash çš„ä»£ä»·ä¸æ‘Šè¿˜å¤æ‚åº¦</p>
</li>
</ol>
</br>
<hr>
</br>
</br>
<h1 id="äº”é›†åˆ-seté›†åˆè¿ç®—--å®ç°">äº”ã€é›†åˆ Setï¼šé›†åˆè¿ç®— &amp; å®ç°</h1>
</br>
<h2 id="æŠ½è±¡å®šä¹‰-4">æŠ½è±¡å®šä¹‰</h2>
<p>é›†åˆæ˜¯æ— åºã€ä¸é‡å¤çš„æšä¸¾æ•°æ®ç»“æ„ã€‚åŒä¸€ç»„æ•°æ®ï¼Œæ’å…¥åˆ°æ•°ç»„ A å’Œ é›†åˆ S åï¼Œå¯ä»¥å¾—åˆ°æ•°æ®çš„æ€»é‡å¤æ¬¡æ•°ï¼š</p>
<p><code>A.size() - S.size()</code></p>
<p>é›†åˆç±»çš„æ¥å£ï¼š</p>
<ul>
<li>add(x) / insert(x)ï¼šåŠ å…¥å…ƒç´ ï¼›remove(x)ï¼šåˆ é™¤å…ƒç´ ï¼›contains(x)ï¼šæ˜¯å¦å±äºï¼›</li>
<li>ä»¥åŠæ•°å­¦è¿ç®—ï¼šâˆªï¼ˆå¹¶ï¼‰ã€âˆ©ï¼ˆäº¤ï¼‰ã€-ï¼ˆå·®ï¼‰ã€‚</li>
</ul>
</br>
</br>
<h2 id="å››ç§å®ç°æ–¹å¼å¯¹æ¯”">å››ç§å®ç°æ–¹å¼å¯¹æ¯”</h2>
<p>ä½ åªéœ€è¦ç†Ÿç»ƒæŒæ¡â€œé“¾é›†åˆâ€çš„å®ç°æ–¹æ³•å³å¯</p>
</br>
<h3 id="1-æŒ‡é’ˆ-é“¾è¡¨-å®ç°">1. æŒ‡é’ˆ (é“¾è¡¨) å®ç°</h3>
<ul>
<li>å®ç°æ–¹æ³•ç±»ä¼¼ LinkedListï¼šå¯ä»¥ç”¨å ä½ç©ºèŠ‚ç‚¹ (dummyHead)ï¼Œæ¯ä¸ªç»“ç‚¹å¯¹åº”ä¸€ä¸ªå…ƒç´ ï¼Œå…ˆæ‰¾åˆ°å‰é¡¹å†ç”¨å…¶ next æŒ‡é’ˆ remove åé¡¹ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯<strong>æ’å…¥å‰è¦è°ƒç”¨ contains() é˜²æ­¢é‡å¤ã€‚</strong></li>
<li>æ—¶é—´ï¼šæœç´¢ã€æ’å…¥ã€åˆ é™¤å¹³å‡ O(n)ã€‚
ä»¥ä¸‹æ˜¯ contains() + insert() çš„ â€œåœ¨å¤´éƒ¨æ’å…¥â€ å®ç°ä¾‹ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// å¯¹äº Node {T val; Node* next;}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">contains</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> dummyHead<span style="color:#f92672">-&gt;</span>next; p; p<span style="color:#f92672">=</span>p<span style="color:#f92672">-&gt;</span>next) {  <span style="color:#75715e">// head ä»£è¡¨å ä½ç©ºèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	        <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">-&gt;</span>val<span style="color:#f92672">==</span>x) <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>	    }
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert</span>(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> x) {<span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>contains(x)) dummyHead<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Node<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>(x, dummyHead<span style="color:#f92672">-&gt;</span>next);}  <span style="color:#75715e">// å…ˆæŸ¥é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// å…ˆå°† head-&gt;next èµ‹ç»™ new Nodeï¼Œç„¶åæŠŠ new Node çš„æŒ‡é’ˆèµ‹ç»™ head-&gt;next
</span></span></span></code></pre></div><p>è¿™ç§â€œé“¾é›†åˆâ€ä»å¤´å¼€å§‹çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><code>DH(null, &amp;N1)â†’ &lt;insert ä½ç½®&gt; â†’N1(v1, &amp;N2)â†’N2(v2, nullptr)</code></p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå®ç°åŸºç¡€ç®€ä¾¿ï¼›å¯¹<strong>å¾ˆå°</strong>çš„é›†åˆ (å‡ åä¸ªä»¥å†…)è¶³å¤Ÿï¼›æ“…é•¿æŸ¥é‡ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ—¶é—´å¤æ‚åº¦é«˜ã€æŸ¥æ‰¾æ…¢ã€æŒ‡é’ˆå¼€é”€å¤§ã€ç¼“å­˜ (chache) å¯¹æ­¤ä¸å¤ªé«˜å…´ã€‚</p>
</br>
<h3 id="2--bst-å®ç°-æ ‡å‡†åº“-stdset">2.  BST å®ç° (æ ‡å‡†åº“ std::set)ï¼š</h3>
<ul>
<li>C++ ä¸­ BST (å¹³è¡¡äºŒå‰æœç´¢æ ‘)ä¸€èˆ¬ç”¨çš„æ˜¯â€œ<strong>çº¢é»‘æ ‘</strong>â€ã€‚</li>
<li>å…³é”®æ“ä½œ insert/erase/find å¹³å‡/æœ€åéƒ½æ˜¯ O(log n)ã€‚</li>
<li>æ”¯æŒ<strong>æœ‰åºéå†</strong> (ä¸­åºéå†)ã€‚å…·ä½“å¦‚ä½•å®ç°ï¼Œæˆ‘ä»¬æ”¾åœ¨æ ‘ä¹‹åé˜è¿°</li>
</ul>
</br>
<h3 id="3-å“ˆå¸Œå‡½æ•°å®ç°-stdunordered_set">3. å“ˆå¸Œå‡½æ•°å®ç° (std::unordered_set)ï¼š</h3>
<p><strong>å“ˆå¸Œé›†åˆ</strong>æ˜¯ä¸€ä¸ª std åº“ä¸­ç”¨ â€œå“ˆå¸Œå‡½æ•°â€ å®ç°é›†åˆçš„æ–¹æ³•</p>
<ul>
<li>åˆ©ç”¨å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°æ¡¶ï¼›æ¡¶å†…å†²çªç”¨é“¾è¡¨è§£å†³ã€‚å¹³å‡ O(1) æ’å…¥/åˆ é™¤/æŸ¥æ‰¾ï¼Œæœ€å O(n)ï¼ˆè£…è½½å› å­è¿‡é«˜ï¼Œå“ˆå¸Œé€€åŒ–ï¼‰</li>
<li>ä¸ä¿è¯é¡ºåºï¼›éœ€è¦è‰¯å¥½çš„å“ˆå¸Œå‡½æ•°å’Œ rehash æœºåˆ¶æ§åˆ¶è´Ÿè½½å› å­ã€‚
ä»¥ä¸‹æ˜¯å®ä¾‹åŒ–å“ˆå¸Œé›†åˆï¼Œå®ç°<strong>å‚¨å­˜â€ç‚¹â€œçš„é›†åˆ</strong>ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unordered_set&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Point</span> { <span style="color:#66d9ef">int</span> x,y; };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">PointHash</span> {  <span style="color:#75715e">// å“ˆå¸Œå‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    size_t <span style="color:#a6e22e">operator</span>()(<span style="color:#66d9ef">const</span> Point<span style="color:#f92672">&amp;</span> p) <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">noexcept</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æŠŠ x,y æ··åˆæˆä¸€ä¸ª 64 ä½æ•°ï¼Œä¹Ÿå°±æ˜¯æŠŠ Point æ˜ å°„æˆ size_t
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> std<span style="color:#f92672">::</span>hash<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span><span style="color:#f92672">&gt;</span>()(( (<span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span>)p.x<span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">32</span> ) <span style="color:#f92672">^</span> (<span style="color:#66d9ef">unsigned</span>)p.y);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">PointEq</span> {  <span style="color:#75715e">// ç›¸ç­‰æ¯”è¾ƒå‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">operator</span>()(<span style="color:#66d9ef">const</span> Point<span style="color:#f92672">&amp;</span> a, <span style="color:#66d9ef">const</span> Point<span style="color:#f92672">&amp;</span> b) <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">noexcept</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a.x<span style="color:#f92672">==</span>b.x <span style="color:#f92672">&amp;&amp;</span> a.y<span style="color:#f92672">==</span>b.y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>unordered_set<span style="color:#f92672">&lt;</span>Point, PointHash, PointEq<span style="color:#f92672">&gt;</span> us;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// unordered_set è¦æ±‚è¿›å…¥å…¶ä¸­çš„ç±»å‹ä¼ å…¥â€å…ƒç´ ã€å“ˆå¸Œå‡½æ•°ã€æ¯”è¾ƒç›¸ç­‰å‡½æ•°â€œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>us.reserve(<span style="color:#ae81ff">1024</span>);  <span style="color:#75715e">// é¢„ç•™ 1024 ä¸ªç‚¹ä½ï¼Œå‡å°‘ rehash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>us.insert(Point{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>});
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> has <span style="color:#f92672">=</span> us.find(Point{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}) <span style="color:#f92672">!=</span> us.end();  
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åˆ¤æ–­æ‰¾åˆ°çš„æŒ‡é’ˆä¸ç­‰äºç©ºï¼Œè¿”å› true
</span></span></span></code></pre></div><p>å“ˆå¸Œé›†åˆçš„ä¸‰ä¸ªéƒ¨ä»¶ï¼š</p>
<ol>
<li>è‡ªå®šä¹‰çš„å­˜å‚¨å…ƒç´ ç±»å‹</li>
<li>ä¼˜è´¨çš„å“ˆå¸Œå‡½æ•°</li>
<li>åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ–¹æ³•</li>
</ol>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¤§å¤šæ•°åœºæ™¯ä¸‹<strong>æœ€å¿«çš„æˆå‘˜æŸ¥è¯¢</strong> (åˆ¤æ–­æ˜¯å¦å±äºé›†åˆ)ï¼›ä¸å…³å¿ƒé¡ºåºã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ— åºï¼›å¯¹å“ˆå¸Œå‡½æ•°çš„è´¨é‡æ•æ„Ÿï¼›å†å“ˆå¸Œä¼šä½¿è¿­ä»£å™¨å¤±æ•ˆï¼›å†…å­˜ç¢ç‰‡åŒ–ã€‚</p>
<p>ä½•æ—¶é€‰å®ƒï¼šä¸»è¦ä¼˜åŠ¿æ˜¯åœ¨æ•°æ®è§„æ¨¡å¤§æ—¶â€œ<strong>åˆ¤æ–­æ˜¯å¦åœ¨é›†åˆé‡Œ</strong>â€ï¼Œä¸éœ€è¦é¡ºåºã€‚</p>
</br>
<h3 id="4-ä½å‘é‡é›†åˆ-stdbitset-ä¸é›†åˆè¿ç®—">4. ä½å‘é‡é›†åˆ (std::bitset) ä¸é›†åˆè¿ç®—ï¼š</h3>
<ul>
<li>å½“å…ƒç´ çš„â€œå–å€¼åŸŸâ€æ˜¯<strong>æœ‰é™ä¸”å¯ç¼–å·</strong>çš„ (å¦‚ ASCII å­—ç¬¦ã€å°èŒƒå›´çš„æ•´æ•°)ï¼Œå°±å¯ä»¥ç”¨ <strong>1 bit è¡¨ç¤ºä¸€ä¸ªå…ƒç´ æ˜¯å¦å±äºé›†åˆ</strong>ï¼š1 è¡¨ç¤ºåœ¨é›†åˆä¸­ï¼Œ0 è¡¨ç¤ºä¸åœ¨ã€‚æŠŠè¿™ä¸€æ•´æ’ bit ç»„æˆçš„æ•°å°±å«<strong>ç‰¹å¾å‘é‡ (characteristic vector) æˆ–ä½å‘é‡</strong>ã€‚è¿™æ ·ï¼Œé›†åˆè¿ç®—å°±èƒ½é€€åŒ–ä¸º<strong>æ•´æ•°ä½è¿ç®—</strong>ï¼Œç”¨ bit è¿ç®—å®Œæˆé›†åˆè¿ç®—â€”â€”å¹¶ï¼šA | B ï¼›äº¤ï¼šA &amp; Bï¼›å·®ï¼šA &amp; ~Bã€‚é€Ÿåº¦æå¿«é’ˆå¯¹ã€Œå°æ•´æ•° / å­—ç¬¦é›†ã€ç‰¹åˆ«é«˜æ•ˆã€‚æ³¨æ„<strong>ä½è¿ç®—æ˜¯ä»å³åˆ°å·¦</strong>çš„ï¼Œå¦‚å›¾ï¼š</li>
</ul>
<p><img src="https://i.postimg.cc/vmLhHHpV/jie-ping2025-11-21-14-08-12.png" alt=""></p>
<ul>
<li>
<p>å•å…ƒç´ æ“ä½œ O(1)ï¼›æ‰¹é‡å¹¶/äº¤/å·®ä¸º <strong>O(n/word_size)</strong>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®ä¾‹åŒ–ä½å‘é‡ï¼Œå®ç°é›†åˆè¿ç®—ï¼ˆå›ºå®šä¸Šç•Œï¼Œç”¨ <code>std::bitset&lt;N&gt;</code> è¡¨ç¤º <code>[0,N-1]</code>ï¼‰ï¼š</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;bitset&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>std<span style="color:#f92672">::</span>bitset<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1000</span><span style="color:#f92672">&gt;</span> A, B;  <span style="color:#75715e">// std::bitset ä¸å¯ä»¥åœ¨ä¹‹åè¿ç®—æ—¶æ‰©å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>A.set(<span style="color:#ae81ff">3</span>); A.set(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> has3 <span style="color:#f92672">=</span> A.test(<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>A.reset(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> C <span style="color:#f92672">=</span> A <span style="color:#f92672">&amp;</span> B;        <span style="color:#75715e">// äº¤é›†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> D <span style="color:#f92672">=</span> A <span style="color:#f92672">|</span> B;        <span style="color:#75715e">// å¹¶é›†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> E <span style="color:#f92672">=</span> A <span style="color:#f92672">&amp;</span> <span style="color:#f92672">~</span>B;       <span style="color:#75715e">// å·®é›†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> F <span style="color:#f92672">=</span> A <span style="color:#f92672">^</span> B         <span style="color:#75715e">// å¼‚æˆ–
</span></span></span></code></pre></div><p>ä½æ“ä½œï¼š</p>
<ul>
<li>ç½® 1ï¼š<code>.set(index)</code>ï¼Œå°†é›†åˆç¬¬ index ä½å˜æˆ 1ï¼Œ<strong>å›Šæ‹¬</strong>åˆ°é›†åˆï¼›æ— å‚æ•°åˆ™å…¨é›†åˆå˜ 1</li>
<li>ç½® 0ï¼š<code>.set(index)</code>ï¼Œå°†é›†åˆç¬¬ index ä½å˜æˆ 0ï¼Œ<strong>å‰”é™¤</strong>å‡ºé›†åˆï¼›æ— å‚æ•°åˆ™å…¨é›†åˆå˜ 0</li>
<li>è¿ç®—ç¬¦ <code>operator[](index)</code>ï¼š<code>bitSet[index] = bin</code>ï¼Œå°† ç¬¬ index ä½å‘é‡å˜æˆ bin</li>
<li>æ•° 1ï¼š<code>.count()</code>ï¼Œè®¡ç®—é›†åˆæœ‰å¤šå°‘å…ƒç´  (æœ‰å¤šå°‘ 1)</li>
</ul>
</br>
<p>ä»¥ä¸‹æ˜¯ä»é›¶å¼€å§‹å®ç°ä½å‘é‡é›†åˆçš„ç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> BITS_PER_BYTE <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> BITS_PER_LONG <span style="color:#f92672">=</span> BITS_PER_BYTE <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">long</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> requiredWords <span style="color:#f92672">=</span> (RANGE_SIZE <span style="color:#f92672">+</span> BITS_PER_LONG <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> BITS_PER_LONG;  <span style="color:#75715e">// ceil(R/W) = (R+W-1)/W æ˜¯å‘ä¸Šå–æ•´çš„æ ‡å‡†å½¢å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// requiredWordsï¼šå¤§å°ä¸º RANGE_SIZE çš„é›†åˆéœ€è¦å¤šå°‘é•¿æ•´æ•°æ¥å‚¨å­˜å…¶ç‰¹å¾å‘é‡ï¼Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">CharacteristicVector</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> words[requiredWords];
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// å®šä¹‰â€æ— ç¬¦å·é•¿æ•´æ•°å‹â€œæ•°ç»„ words åŠå…¶å®¹é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">createMask</span>(<span style="color:#66d9ef">int</span> k) {  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//  ç¬¬ k ä½æ©ç ï¼šåªæœ‰ç¬¬ k ä½æ˜¯ 1ã€‚ä¸å®ƒè¿›è¡Œ AND æ“ä½œä¼šåªå‰©ä¸‹ç¬¬ k â€œå‘é‡ç»´åº¦â€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span>(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">&lt;&lt;</span> k <span style="color:#f92672">%</span> BITS_PER_LONG;
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// å¼ºåˆ¶è½¬åŒ– 1 ä¸ºé•¿æ•´å‹ï¼Œç„¶åå·¦ç§» â€k åœ¨æ‰€å± long ä¸­çš„ä½æ•°â€œï¼Œåˆ›é€ æ©ç 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">testBit</span>(CharacteristicVector <span style="color:#f92672">&amp;</span> cv, <span style="color:#66d9ef">int</span> k) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (k <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> k <span style="color:#f92672">&gt;=</span> RANGE_SIZE) {
</span></span><span style="display:flex;"><span>       error(<span style="color:#e6db74">&#34;testBit: Bit index is out of range&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> cv.words[k <span style="color:#f92672">/</span> BITS_PER_LONG] <span style="color:#f92672">&amp;</span> createMask(k);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å¦‚æœæ•´ä¸ªæ•°ç»„çš„ç¬¬ k bit ä¸º 1 å°±è¿”å›çœŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBit</span>(CharacteristicVector <span style="color:#f92672">&amp;</span> cv, <span style="color:#66d9ef">int</span> k) {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">if</span> (k <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> k <span style="color:#f92672">&gt;=</span> RANGE_SIZE) {
</span></span><span style="display:flex;"><span>      error(<span style="color:#e6db74">&#34;setBit: Bit index is out of range&#34;</span>);
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>   cv.words[k <span style="color:#f92672">/</span> BITS_PER_LONG] <span style="color:#f92672">|=</span> createMask(k);
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// å°†ç¬¬ k bit æ‰€åœ¨çš„é‚£ä¸ª long æ›¿æ¢æˆå®ƒ OR ç¬¬ k ä½æ©ç ï¼Œä¹Ÿå°±æ˜¯æŠŠå®ƒå˜ 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">clearBit</span>(CharacteristicVector <span style="color:#f92672">&amp;</span> cv, <span style="color:#66d9ef">int</span> k) {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">if</span> (k <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> k <span style="color:#f92672">&gt;=</span> RANGE_SIZE) {
</span></span><span style="display:flex;"><span>      error(<span style="color:#e6db74">&#34;setBit: Bit index is out of range&#34;</span>);
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>   cv.words[k <span style="color:#f92672">/</span> BITS_PER_LONG] <span style="color:#f92672">&amp;=</span> <span style="color:#f92672">~</span>createMask(k);
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">// å°†ç¬¬ k bit æ‰€åœ¨çš„é‚£ä¸ª long æ›¿æ¢æˆå®ƒ AND ç¬¬ k ä½æ©ç çš„å¦å®šï¼Œä¹Ÿå°±æ˜¯æŠŠå®ƒå˜ 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><ul>
<li>unsigned long çš„é•¿åº¦æ˜¯ 32 æˆ– 64 bitï¼Œå–å†³äºè®¡ç®—æœºã€‚å¤ä¹ ï¼šlong() æ˜¯å¼ºåˆ¶è½¬æ¢ç±»å‹ä¸º long çš„æ„æ€ï¼Œå¯¹å­—ç¬¦(ä¸²)æ— æ•ˆã€‚</li>
<li>å¤ä¹ ï¼šå‘ä¸Šå–æ•´ <code>ceil(A/B)=(A+B-1)/B</code>ï¼Œå‘ä¸‹å–æ•´ <code>floor(A/B)=(A-B+1)/B</code></li>
<li>è¿™æ®µä»£ç çš„æ ¸å¿ƒæ˜¯â€œ<strong>æ©ç </strong>â€çš„æ¦‚å¿µï¼šä¸€ä¸ªé€šè¿‡ AND æ“ä½œæ©ç›–æ‰æ— å…³çš„ä½çš„æ•°ã€‚</li>
</ul>
<p><img src="https://i.postimg.cc/nLFxLMCN/jie-ping2025-11-21-14-19-30.png" alt=""></p>
<ul>
<li>
<p>åœ¨ bitwise calculation çš„è¯­å¢ƒä¸‹ï¼Œ<strong>æ•°å­—æ˜¯ä»å³å¾€å·¦è¯»çš„</strong>ï¼Œæ¯”å¦‚ long(3) æ˜¯ â€000â€¦011â€œï¼Œ <code>long(3) &lt;&lt; 2</code> æ˜¯ â€000â€¦01100â€œï¼ŒåŒç† â€<strong>ç½® 5</strong>â€œ å°±æ˜¯ <code>long(1) &lt;&lt; 5</code></p>
</li>
<li>
<p><code>k/BITS_PER_LONG</code> å’Œ <code>k%BITS_PER_LONG</code> åˆ†åˆ«è¿”å› â€k åœ¨ç¬¬å‡ ä¸ª long é‡Œï¼Ÿâ€œ å’Œ â€k åœ¨æ‰€å± long çš„ç¬¬å‡ ä½ï¼Ÿâ€œ</p>
</li>
<li>
<p><code>words[]</code> çš„<strong>æ‰€æœ‰</strong>é•¿æ•´å‹å…ƒç´ ä»£è¡¨äº†<strong>ä¸€ä¸ª</strong>é›†åˆçš„<strong>ç‰¹å¾å‘é‡</strong>ï¼Œå®ƒä»¬å„è‡ªéƒ½åŒ…å« <code>BITS_PER_LONG</code> ä¸ª bit çš„äºŒè¿›åˆ¶ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š<strong>æå¿«ã€æçœå†…å­˜</strong> (æ¯å…ƒç´  1 bit)ï¼›æ‰¹é‡è¿ç®—é«˜æ•ˆï¼›é€‚åˆ<strong>å­—ç¬¦é›†ã€ç¨ å¯†å°æ•´æ•°é›†</strong>ã€å›¾ç®—æ³•çš„â€œè®¿é—®æ ‡è®°â€ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦<strong>å·²çŸ¥ä¸”ä¸å¤ªå¤§çš„åŸŸä¸Šç•Œ</strong>ï¼›<code>std::bitset&lt;N&gt;</code> çš„ N å¿…é¡»æ˜¯<strong>ç¼–è¯‘æœŸå¸¸é‡</strong>ï¼›åŠ¨æ€èŒƒå›´éœ€ç”¨ <code>vector&lt;uint64_t&gt;</code> æˆ– boost::dynamic_bitsetã€‚</p>
<p>ä½•æ—¶é€‰å®ƒï¼šå…ƒç´ æ˜¯<strong>å°èŒƒå›´æ•´æ•°</strong>ï¼ˆå¦‚ 0..10^6 å†…ï¼‰ä¸”é›†åˆè¿ç®—å¾ˆå¤šï¼›æˆ–éœ€è¦æå¿«çš„æˆå‘˜æµ‹è¯•ä¸æ‰¹é‡å¹¶/äº¤ã€‚</p>
</br>
</br>
<h2 id="æ³¨æ„ç‚¹-4">æ³¨æ„ç‚¹</h2>
<ol>
<li>
<p><strong>ç†è§£ä¸åŒå®ç°çš„æ—¶é—´å¤æ‚åº¦ã€æ˜¯å¦æœ‰åº</strong>ï¼š</p>
<p>set vs unordered_set vs ä½å‘é‡ã€‚</p>
</li>
<li>
<p>èƒ½æŠŠ<strong>æ•°å­¦é›†åˆè¿ç®—</strong>æ˜ å°„åˆ°å®é™…ä»£ç ï¼š</p>
<p>ç”¨ bit è¿ç®—å†™ union/intersection/differenceã€‚</p>
</li>
<li>
<p>çŸ¥é“ä¸ºä»€ä¹ˆ bitset å¯¹ã€Œå­—ç¬¦é›†åˆã€å°‘é‡å°æ•´æ•°é›†åˆã€éå¸¸é«˜æ•ˆã€‚</p>
</li>
</ol>
<ul class="pa0">
  
   <li class="list di">
     <a href="http://localhost:1313/tags/csc3200/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">CSC3200</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
        
          <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "nero-lithos" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3"></p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="http://localhost:1313/posts/3200.2/">ğŸ’» CSC3200 LEC3-5 C&#43;&#43;è¿›é˜¶</a>
        </li>
	    
	     <li  class="mb2">
          <a href="http://localhost:1313/posts/3200.1/">ğŸ’» CSC3200 LEC1-2 C&#43;&#43;å…¥é—¨</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="custom-footer">
  <p>&copy; Lithos&#39; Blog 2026</p>

  
    <ul class="footer-links">
      
        <li><a href="https://github.com/Nerolithos" target="_blank" rel="noopener noreferrer">ğŸ’» GitHub</a></li>
      
        <li><a href="https://www.pixiv.net/users/107379421" target="_blank" rel="noopener noreferrer">ğŸ¨ Pixiv</a></li>
      
        <li><a href="https://blog.nero-lithos.com/" target="_blank" rel="noopener noreferrer">ğŸ  Home</a></li>
      
        <li><a href="https://futuregate.streamlit.app/" target="_blank" rel="noopener noreferrer">ğŸ¤– CUHKSZ AI</a></li>
      
    </ul>
  
</footer>

  </body>
</html>