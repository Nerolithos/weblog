<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>å¦‚ä½•åœ¨ cloudflare ä¸Šéƒ¨ç½² Hugo æ„æ¶çš„åšå®¢ | Lithos&#39; Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
    <meta name="generator" content="Hugo 0.134.1">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="http://localhost:1313/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/how-to-deploy-blog-on-cloudflare/">
    

    <meta property="og:url" content="http://localhost:1313/how-to-deploy-blog-on-cloudflare/">
  <meta property="og:site_name" content="Lithos&#39; Blog">
  <meta property="og:title" content="å¦‚ä½•åœ¨ cloudflare ä¸Šéƒ¨ç½² Hugo æ„æ¶çš„åšå®¢">
  <meta property="og:description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2024-09-10T23:34:08+08:00">
    <meta property="article:modified_time" content="2024-09-10T23:34:08+08:00">
    <meta property="article:tag" content="æŠ€æœ¯">

  <meta itemprop="name" content="å¦‚ä½•åœ¨ cloudflare ä¸Šéƒ¨ç½² Hugo æ„æ¶çš„åšå®¢">
  <meta itemprop="description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">
  <meta itemprop="datePublished" content="2024-09-10T23:34:08+08:00">
  <meta itemprop="dateModified" content="2024-09-10T23:34:08+08:00">
  <meta itemprop="wordCount" content="1188">
  <meta itemprop="keywords" content="æŠ€æœ¯">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="å¦‚ä½•åœ¨ cloudflare ä¸Šéƒ¨ç½² Hugo æ„æ¶çš„åšå®¢">
  <meta name="twitter:description" content="ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšä¸€éå´è¿‡ç¨‹æ›²æŠ˜ï¼Œç½‘ä¸Šçš„æ–‡ç« ï¼Œæœ‰å‘ã€‚">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://localhost:1313/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Lithos&#39; Blog
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <h1 class="f1">
          å¦‚ä½•åœ¨ cloudflare ä¸Šéƒ¨ç½² Hugo æ„æ¶çš„åšå®¢
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links mid-gray">
        <p>ä¸€ç›´å¬è¯´å»ºåšå®¢å¯ä»¥è–… github å’Œ cloudflare ç¾Šæ¯›ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å®ç°ã€‚çœŸæ­£åšäº†ä¸€éï¼Œç«Ÿå‘ç°ç½‘ä¸Šæ‰¾åˆ°çš„æ–‡ç« ï¼Œéƒ½æœ‰å‘ã€‚</p>
<p>åŒ…æ‹¬ hugoã€cloudflare å®˜ç½‘ï¼Œä»¥åŠ GPT çš„è¯´è¾ã€‚</p>
<p><strong>å‰æï¼šä½ çš„ç»ˆç«¯ cli å¾—èƒ½å¤Ÿè¾ƒä¸ºç¨³å®šçš„ è®¿é—® githubã€‚</strong></p>
<p>ï¼ˆå¦åˆ™ï¼Œå³ä¾¿ç…§ç€å®˜ç½‘æ–‡ç« é€å­—é€å¥æ“ä½œä¹Ÿä¼šä»»æ„å˜å½¢&hellip;&hellip;åˆ«è¯´æˆ‘æ²¡æé†’ä½ ï¼‰</p>
<h2 id="ä¸€hugo-init-åšå®¢é¡¹ç›®">ä¸€ã€hugo init åšå®¢é¡¹ç›®</h2>
<h3 id="å®‰è£…-hugo">å®‰è£… hugo</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew install hugo <span style="color:#75715e"># MacOS</span>
</span></span></code></pre></div><h3 id="åˆ›å»º-hugo-ç«™ç‚¹">åˆ›å»º hugo ç«™ç‚¹</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new site &lt;your_blog_project_name&gt; 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿™å°†ä¼šåˆ›å»ºä¸€ä¸ªåä¸º your_blog_project_name çš„é¡¹ç›®</span>
</span></span></code></pre></div><h3 id="é…ç½®-hugo-ä¸»é¢˜">é…ç½® hugo ä¸»é¢˜</h3>
<p>1ã€ä»é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œå¯åŠ¨ hugo æ¨¡å—ç³»ç»Ÿï¼ˆå¦‚æœæ‚¨è¿˜æ²¡æœ‰è¿™æ ·åšï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo mod init github.com/&lt;your_user&gt;/&lt;your_project&gt;
</span></span></code></pre></div><p>2ã€è¿›å…¥æˆ‘ä»¬åˆšåˆ›å»ºçš„ hugo ç«™ç‚¹æ–‡ä»¶å¤¹é‡Œ, æ‰“å¼€ <strong>hugo.toml</strong> æ–‡ä»¶(æŸäº›ç‰ˆæœ¬ä¹Ÿå« <strong>config.toml</strong>  )</p>
<p>ï½ è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œayu&rsquo;s ä¾‹å­ä¸­ç”¨çš„ newsroom theme ä¼¼ä¹æœ‰é—®é¢˜ï¼šgithub.com/onweru/newsroom</p>
<p>æŒ‰ä¸‹é¢ä¿®æ”¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;https://blog.sunnyseeds.net/&#39;</span>  <span style="color:#75715e"># ä½ è´­ä¹°çš„åŸŸå</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguage</span> = <span style="color:#e6db74">&#34;zh-cn&#34;</span> <span style="color:#75715e"># é»˜è®¤è¯­è¨€</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defaultContentLanguageInSubdir</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;zh-cn&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#34;sunnyseeds&#39; Blog&#34;</span> <span style="color:#75715e"># Blog title </span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = [<span style="color:#e6db74">&#34;github.com/theNewDynamic/gohugo-theme-ananke&#34;</span>] <span style="color:#75715e"># ä½ é€‰æ‹©çš„ä¸»é¢˜</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">hasCJKLanguage</span> = <span style="color:#66d9ef">true</span> <span style="color:#75715e"># CJK ä¸ºä¸­å›½, æ—¥æœ¬, éŸ©å›½çš„ç¼©å†™</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">canonifyurls</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pagination</span>.<span style="color:#a6e22e">pagerSize</span> = <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">module</span>]
</span></span><span style="display:flex;"><span>[[<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">imports</span>]]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">path</span> = <span style="color:#e6db74">&#34;github.com/theNewDynamic/gohugo-theme-ananke&#34;</span>
</span></span></code></pre></div><p><a href="https://github.com/theNewDynamic/gohugo-theme-ananke">Ananke: Hugo ä¸»é¢˜</a>é‡Œæœ‰ä¸€ä¸ªæ›´è¯¦ç»†çš„ä¾‹å­ï¼Œå¯ä»¥æ§åˆ¶ä¸»é¢˜çš„æ–¹æ–¹é¢é¢ï¼Œæˆ‘æš‚æ—¶æ²¡æœ‰ä½¿ç”¨</p>
<h3 id="æ‹‰å–-ä¸»é¢˜-ä»“åº“åˆ°æœ¬åœ°">æ‹‰å– ä¸»é¢˜ ä»“åº“åˆ°æœ¬åœ°</h3>
<p>åœ¨ä½ çš„ Hugo ç½‘ç«™æ ¹ç›®å½•å†…è¿è¡Œï¼š</p>
<pre tabindex="0"><code>git init

git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
</code></pre><p>æ³¨æ„ï¼šgit submodule add ç”¨äºå°†å¦ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå­æ¨¡å—æ·»åŠ åˆ°ç°æœ‰çš„ Git ä»“åº“ä¸­ã€‚å­æ¨¡å—çš„æäº¤å’Œæ›´æ–°æ˜¯é€šè¿‡ä¸»ä»“åº“çš„ <strong>.gitmodules</strong> æ–‡ä»¶æ¥ç®¡ç†çš„ã€‚è¿™ä¸ªå¾ˆå¯èƒ½å°±æ˜¯ä¸‹é¢æŠ¥é”™çš„åŸå› ï¼ˆä½¿ç”¨submodule æ‰ä¼šæœ‰ .gitmodules æ–‡ä»¶ï¼ŒåµŒå¥— git ä¸å¥½å¸¦å•Šï¼‰ï¼š</p>
<p><img src="https://img.sunnyseed.me/2024/09/10/3025d116d27d1.png" alt="image.png"></p>
<h4 id="åˆ›å»ºæ–°å¸–å­">åˆ›å»ºæ–°å¸–å­</h4>
<pre tabindex="0"><code>hugo new content posts/hello-world.md
</code></pre><p>ä¿®æ”¹ contents\posts\hello-world.md</p>
<p>æ³¨æ„ï¼Œè¦åˆ é™¤ <code>draft = true</code> è¿™ä¸€è¡Œ</p>
<h4 id="æœ¬åœ°é¢„è§ˆ">æœ¬åœ°é¢„è§ˆ</h4>
<pre tabindex="0"><code>hugo server
</code></pre><p>æŒ‰ç…§ 2ã€<a href="https://discourse.gohugo.io/t/fatal-error-when-deploying-to-cloudflare/41368">åœ¨éƒ¨ç½²åˆ° Cloudflare æ—¶å‘ç”Ÿè‡´å‘½é”™è¯¯ - HUGO æ”¯æŒæ–‡æ¡£</a> è¿™ä¸€æ­¥ä¹‹å‰è¿˜æœ‰æ‰‹åŠ¨ <code>npm ci</code> å¤„ç†è¿‡ç¨‹ï¼Œä½†æˆ‘æ²¡æœ‰ä½¿ç”¨ï¼Œå¯èƒ½æ–°ç‰ˆä¸éœ€è¦ï¼Ÿ</p>
<h2 id="äºŒä¸Šä¼ -github">äºŒã€ä¸Šä¼  github</h2>
<h3 id="1ç”Ÿæˆ-repository">1ã€ç”Ÿæˆ repository</h3>
<p><img src="https://img.sunnyseed.me/2024/09/10/4569accd95619.png" alt="image.png"></p>
<h3 id="2create-a-new-repository-on-the-command-line">2ã€create a new repository on the command line</h3>
<p>è¿›å…¥blog æ‰€åœ¨ç›®å½•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;first commit&#34;</span>
</span></span><span style="display:flex;"><span>git branch -M main
</span></span><span style="display:flex;"><span>git remote add origin https://github.com/sunnyseed/blog.git
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>ä¹‹åå†æ¬¡ä¿®æ”¹çš„è¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;xxx&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>å¦‚æœæ˜¯ä½¿ç”¨ ssh ç™»å½• githubï¼Œåˆ™è¦ä½¿ç”¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git remote add origin git@github.com:sunnyseed/blog.git
</span></span></code></pre></div><h2 id="ä¸‰è®¾ç½®-cloudflare">ä¸‰ã€è®¾ç½® cloudflare</h2>
<p>æŒ‰ç…§ 1ã€<a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/">Hugo éƒ¨ç½² | Cloudflare Pages æ–‡æ¡£</a> è®¾ç½®å³å¯ï¼Œå…¶ä¸­æ„å»ºå‘½ä»¤ï¼ˆæˆ‘ç…§æŠ„çš„ï¼Œä¸çŸ¥ä¸ºå•¥ğŸ˜„ï¼‰ï¼š</p>
<pre tabindex="0"><code>hugo -b $CF_PAGES_URL
</code></pre><p>è¡¥å……ï¼Œåˆæ˜¯å‘ï¼š-b æ˜¯å›ºå®š baseurl çš„æ„æ€ï¼ˆå°±æ˜¯ç½‘ç«™çš„ åŸºæœ¬ URLï¼Œå›ºå®šæˆ cf page çš„åœ°å€ï¼‰ï¼Œå¦‚æœä½ æœ‰æ³¨å†Œç½‘å€çš„è¯ï¼Œç”¨é»˜è®¤çš„ï¼š<code>hugo</code> æ‰è¡Œï¼Œè¿™ä¹ˆå†™ä¼šå¯¼è‡´é”™è¯¯çš„ï¼Œå½“æ—¶æˆ‘è¿˜æ²¡ååº”è¿‡æ¥ã€‚</p>
<p>éšåç¡®è®¤åœ¨ æ„å»º æ—¶ï¼Œæ²¡æœ‰æŠ¥é”™å³å¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ pages åˆ†é…çš„åŸŸè®¿é—®äº†ï¼ˆæ¯”å¦‚ myblog-dg4.pages.devï¼‰ã€‚æœ¬åœ°æ›´æ–°ååªéœ€è¦ï¼Œpush ä¸€ä¸‹ï¼Œcf æ˜¯è‡ªåŠ¨æ›´æ–°å‘å¸ƒçš„ã€‚</p>
<h2 id="å››ç»‘å®šåŸŸå">å››ã€ç»‘å®šåŸŸå</h2>
<ol>
<li>
<p>åœ¨ åŸŸæ³¨å†Œ ä¸­åŠ ä¸€ä¸ª CNAME (æ¯”å¦‚ blog )ï¼ŒæŒ‡å‘ pages åˆ†é…çš„åŸŸåæ¯”å¦‚ myblog-dg4.pages.devï¼Œæ³¨æ„ï¼Œä¸è¦åŒ…æ‹¬ç‰ˆæœ¬å·ã€‚</p>
</li>
<li>
<p>åœ¨ pages çš„ è‡ªå®šä¹‰åŸŸä¸­ï¼ŒåŠ å…¥ä¸€ä¸ªæŒ‡å‘ CNAME ï¼ˆblog.sunnyseeds.netï¼‰ çš„è®°å½•ã€‚</p>
</li>
</ol>
<p>å°±å¯ä»¥è®¿é—® ï¼ˆblog.sunnyseeds.netï¼‰ä½¿ç”¨äº†ã€‚</p>
<h2 id="åç»­é—®é¢˜">åç»­é—®é¢˜</h2>
<ol>
<li>åˆ†æ®µå¿…é¡»è¦åŒå›è½¦ï¼Ÿ</li>
<li>ä¸€å®šè¦å›¾åºŠä¹ˆï¼Ÿ</li>
<li>ä¸»é¢˜æ€ä¹ˆè®¾ç½®ï¼Ÿ</li>
<li>è¯„è®ºæ€ä¹ˆä½¿ç”¨ï¼Ÿ</li>
<li>å¦‚ä½•å°† wordpress åšå®¢ï¼Œæ— ç—›è¿ç§»ï¼Ÿ</li>
</ol>
<h2 id="reference">reference</h2>
<p>1ã€<a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/">Hugo éƒ¨ç½² | Cloudflare Pages æ–‡æ¡£</a></p>
<p>2ã€<a href="https://discourse.gohugo.io/t/fatal-error-when-deploying-to-cloudflare/41368">åœ¨éƒ¨ç½²åˆ° Cloudflare æ—¶å‘ç”Ÿè‡´å‘½é”™è¯¯ - HUGO æ”¯æŒæ–‡æ¡£</a></p>
<p>3ã€<a href="https://ayurain.com/posts/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Ccloudflare%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%A1%88/">åŸºäº hugo å’Œ cloudflare Page çš„åšå®¢æ–¹æ¡ˆ | ayu&rsquo;s Blog</a></p>
<p>4ã€<a href="https://github.com/theNewDynamic/gohugo-theme-ananke">Ananke: Hugo ä¸»é¢˜</a></p>

      </div>
    </article>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Lithos' Blog 2024 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
